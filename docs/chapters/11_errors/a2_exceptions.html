<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ar" xml:lang="ar" dir="rtl"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>16&nbsp; الخطأ الواقعي: الاستثناء – البايثونية</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../logo.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-0aac8e47911a43b3c30d9e1afe62ca59.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "لا يوجد نتائج",
    "search-matching-documents-text": "الصفحات المطابقة",
    "search-copy-link-title": "نسخ الرابط إلى الحافظة",
    "search-hide-matches-text": "إخفاء المطابقات الإضافية",
    "search-more-match-text": "مطابقة واحدة في هذه الصفحة",
    "search-more-matches-text": "مطابقات إضافية في هذه الصفحة",
    "search-clear-button-title": "إزالة",
    "search-text-placeholder": "ابحث عن...",
    "search-detached-cancel-button-title": "إلغاء",
    "search-submit-button-title": "إرسال",
    "search-label": "البحث"
  }
}</script>
<meta name="mermaid-theme" content="neutral">
<script src="../../site_libs/quarto-diagram/mermaid.min.js"></script>
<script src="../../site_libs/quarto-diagram/mermaid-init.js"></script>
<link href="../../site_libs/quarto-diagram/mermaid.css" rel="stylesheet">


<meta name="twitter:title" content="16&nbsp; الخطأ الواقعي: الاستثناء – البايثونية">
<meta name="twitter:description" content="">
<meta name="twitter:image" content="https://hassanalgoz.github.io/python/chapters/11_errors/cover.png">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="تبديل القائمة الجانبية" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../chapters/11_errors/a1_errors.html">باب الخطأ والاستثناء (Errors and Exceptions)</a></li><li class="breadcrumb-item"><a href="../../chapters/11_errors/a2_exceptions.html"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">الخطأ الواقعي: الاستثناء</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="تبديل القائمة الجانبية" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="البحث" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../../">البايثونية</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/hassanalgoz/python/tree/main/book/" title="الكود المصدر" class="quarto-navigation-tool px-1" aria-label="الكود المصدر"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="التحميل" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="التحميل"><i class="bi bi-download"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="../../البايثونية.pdf">
              <i class="bi bi-file-pdf pe-1"></i>
            التحميل PDF
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="../../البايثونية.epub">
              <i class="bi bi-journal pe-1"></i>
            التحميل ePub
            </a>
          </li>
      </ul>
    </div>
    <div class="dropdown">
      <a href="" title="المشاركة" id="quarto-navigation-tool-dropdown-1" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="المشاركة"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-1">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=|url|">
              <i class="bi bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.facebook.com/sharer/sharer.php?u=|url|">
              <i class="bi bi-facebook pe-1"></i>
            Facebook
            </a>
          </li>
      </ul>
    </div>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="البحث"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">مقدمة</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../setup.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">إعداد بيئة التطوير</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/01_intro/introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">ماذا نعني بلغة البرمجة؟</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">باب الأعداد (Numbers)</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="تبديل القسم">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/02_numbers/a_numbers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">الأعداد</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/02_numbers/apps.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">تطبيقات</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/02_numbers/problems.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">مسائل</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/02_numbers/solutions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">حل المسائل</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">باب الشرط والتكرار (Control Flow)</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="تبديل القسم">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/03_control_flow/a_control_flow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">الشرط والتكرار</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/03_control_flow/apps.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">تطبيقات</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/03_control_flow/problems.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">مسائل</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/03_control_flow/solutions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">حل المسائل</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">باب الأفعال (Functions)</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="تبديل القسم">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/04_functions/a_functions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">الأفعال</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/04_functions/a2_recursion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">الفعل المتسلسل</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/04_functions/apps.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">تطبيقات</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">باب المجموعة المرتبة (Sequences)</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="تبديل القسم">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/05_sequences/a_sequences.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">المجموعة المرتبة</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/05_sequences/apps.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">تطبيقات</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/05_sequences/problems.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">مسائل</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">باب المجموعة الرابطة (Mapping)</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="تبديل القسم">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/06_mapping/a_mapping.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">المجموعة المرقومة</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/06_mapping/b_context.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">تطبيقات</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/06_mapping/c_problems.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">تمارين</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">باب النص (Strings)</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="تبديل القسم">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/07_strings/a1_strings.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">النص</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/07_strings/a2_unicode.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">تمثيل النص</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/07_strings/b_context.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">تطبيقات</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true">
 <span class="menu-text">باب الملفات (Files)</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true" aria-label="تبديل القسم">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/08_files_and_directories/a1_serialization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">الملف</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/08_files_and_directories/a2_directories.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">الدليل</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/08_files_and_directories/b_context.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">تطبيقات</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true">
 <span class="menu-text">باب الأصناف (Classes)</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true" aria-label="تبديل القسم">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/09_oop/a1_classes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">الأنواع</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/09_oop/a2_classes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">التجريد</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true">
 <span class="menu-text">باب الوقت (Time)</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true" aria-label="تبديل القسم">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/10_time/a_time.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">الوقت</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="true">
 <span class="menu-text">باب الخطأ والاستثناء (Errors and Exceptions)</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="true" aria-label="تبديل القسم">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/11_errors/a1_errors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">الخطأ</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/11_errors/a2_exceptions.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">الخطأ الواقعي: الاستثناء</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="true">
 <span class="menu-text">الملحقات</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="true" aria-label="تبديل القسم">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../appendix_collections.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">خريطة المجموعات</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../glossary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">قاموس المصطلحات</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">المحاور</h2>
   
  <ul>
  <li><a href="#الفرق-بين-الوقاية-والتدارك" id="toc-الفرق-بين-الوقاية-والتدارك" class="nav-link active" data-scroll-target="#الفرق-بين-الوقاية-والتدارك"><span class="header-section-number">16.1</span> الفرق بين الوقاية والتدارك</a>
  <ul class="collapse">
  <li><a href="#الحالة-الأولى-خطأ-جديد-يستوعبه-السياق" id="toc-الحالة-الأولى-خطأ-جديد-يستوعبه-السياق" class="nav-link" data-scroll-target="#الحالة-الأولى-خطأ-جديد-يستوعبه-السياق">الحالة الأولى: خطأ جديد يستوعبه السياق</a></li>
  <li><a href="#الحالة-الثانية-خطأ-مرفوع-يستوعبه-السياق" id="toc-الحالة-الثانية-خطأ-مرفوع-يستوعبه-السياق" class="nav-link" data-scroll-target="#الحالة-الثانية-خطأ-مرفوع-يستوعبه-السياق">الحالة الثانية: خطأ مرفوع يستوعبه السياق</a></li>
  <li><a href="#الحالة-الثالثة-خطأ-جديد-لا-يستوعبه-السياق" id="toc-الحالة-الثالثة-خطأ-جديد-لا-يستوعبه-السياق" class="nav-link" data-scroll-target="#الحالة-الثالثة-خطأ-جديد-لا-يستوعبه-السياق">الحالة الثالثة: خطأ جديد لا يستوعبه السياق</a></li>
  <li><a href="#الحالة-الرابعة-خطأ-مرفوع-لا-يستوعبه-السياق" id="toc-الحالة-الرابعة-خطأ-مرفوع-لا-يستوعبه-السياق" class="nav-link" data-scroll-target="#الحالة-الرابعة-خطأ-مرفوع-لا-يستوعبه-السياق">الحالة الرابعة: خطأ مرفوع لا يستوعبه السياق</a></li>
  </ul></li>
  <li><a href="#إلتقاط-جميع-الأخطاء" id="toc-إلتقاط-جميع-الأخطاء" class="nav-link" data-scroll-target="#إلتقاط-جميع-الأخطاء"><span class="header-section-number">16.2</span> إلتقاط جميع الأخطاء</a></li>
  <li><a href="#أنواع-الاستثناء-في-بايثون" id="toc-أنواع-الاستثناء-في-بايثون" class="nav-link" data-scroll-target="#أنواع-الاستثناء-في-بايثون"><span class="header-section-number">16.3</span> أنواع الاستثناء في بايثون</a>
  <ul class="collapse">
  <li><a href="#syntaxerror" id="toc-syntaxerror" class="nav-link" data-scroll-target="#syntaxerror"><code>SyntaxError</code></a></li>
  <li><a href="#typeerror" id="toc-typeerror" class="nav-link" data-scroll-target="#typeerror"><code>TypeError</code></a></li>
  <li><a href="#valueerror" id="toc-valueerror" class="nav-link" data-scroll-target="#valueerror"><code>ValueError</code></a></li>
  <li><a href="#indexerror-keyerror" id="toc-indexerror-keyerror" class="nav-link" data-scroll-target="#indexerror-keyerror"><code>IndexError</code> &amp; <code>KeyError</code></a></li>
  <li><a href="#attributeerror-nameerror" id="toc-attributeerror-nameerror" class="nav-link" data-scroll-target="#attributeerror-nameerror"><code>AttributeError</code> &amp; <code>NameError</code></a></li>
  <li><a href="#modulenotfounderror" id="toc-modulenotfounderror" class="nav-link" data-scroll-target="#modulenotfounderror"><code>ModuleNotFoundError</code></a></li>
  </ul></li>
  <li><a href="#تعريف-أخطاء-جديدة" id="toc-تعريف-أخطاء-جديدة" class="nav-link" data-scroll-target="#تعريف-أخطاء-جديدة"><span class="header-section-number">16.4</span> تعريف أخطاء جديدة</a></li>
  <li><a href="#منظور-آخر-للخطأ" id="toc-منظور-آخر-للخطأ" class="nav-link" data-scroll-target="#منظور-آخر-للخطأ"><span class="header-section-number">16.5</span> منظور آخر للخطأ</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/hassanalgoz/python/issues/new" class="toc-action"><i class="bi bi-github"></i>الإبلاغ عن مشكلة</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../chapters/11_errors/a1_errors.html">باب الخطأ والاستثناء (Errors and Exceptions)</a></li><li class="breadcrumb-item"><a href="../../chapters/11_errors/a2_exceptions.html"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">الخطأ الواقعي: الاستثناء</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">الخطأ الواقعي: الاستثناء</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p><a href="https://docs.python.org/3.13/tutorial/errors.html">الاستثناء</a> (Exception) هو خروج البرنامج عن المسار المثالي. ويسمى خطأً (Error).</p>
<p>مثل أن يؤمَر بقراءة ملف .. والواقع أن هذا الملف غير موجود! أو أن يطلب من المستخدم رقمًا فيعطيه كلاماً! أو أن يطلب من الشبكة شيئًا .. فتنقطع الشبكة! فكل هذه تعتبر مسارات غير مثالية لكنها تحصل في ظروف واقعيَّة. فيجب كتابة قطع في البرنامج تتعامل معها. ولذا فإن بعض الممارسين لا يفضلون استعمال كلمة استثناء لأنَّ مثل ذلك يحصل كثيرًا فهو ليس خارجًا عن العادة؛ بل من الطبيعي أن يحصل ذلك في الواقع.</p>
<p>تصوَّر أن البرنامج سلسلة من الأفعال بحيث يختص كل فعل بمهمة معيَّنة (بناءً على مدخلاته يُعطي مخرجاته) فإننا نتعمَّد أن يكون وعيُه محدودًا بمدخلاته حتى نقلل من تشابك قطع الكود حتى نيسِّر على أنفسنا التحقق من صحَّة المنطق. وهذه فكرة <strong>ظرف التنفيذ</strong> الذي سبق الحديث عنها في <a href="../../chapters/04_functions/a_functions.html">باب الفعل</a>.</p>
<p>فللخطأ حالتان -لا غير- في علاقتها مع من يتعامل معه:</p>
<ol type="1">
<li><strong>يستوعبه السياق</strong>: أن يكون في وعي الفعل (الظرف) ما يمكن به معالجته</li>
<li><strong>لا يستوعبه السياق</strong>: ألا يكون كذلك فيرفعه (يرجع به) للفعل المستدعي له (الذي هو أكثرُ وَعيًا منه) ليعالجه
<ul>
<li>وهذا يتسلسل حتى يصل إلى الإنسان (سواءً المستفيد أو المبرمج): برسالة تفيد في العثور عليه والتعامل معه.</li>
</ul></li>
</ol>
<p>ومنشؤ الخطأ أحد أمرين:</p>
<ol type="1">
<li><strong>خطأ مرفوع</strong>: تم رفعه من فعل مستدعى في السياق الحالي.</li>
<li><strong>خطأ جديد</strong>: تم اكتشاف حالة تتوقف تكملة الفعل على إصلاحها.</li>
</ol>
<p>وللتعامل مع الخطأ حين يستوعبه السياق طريقتان:</p>
<ol type="1">
<li><strong>الوقاية</strong>: توقُّع حالات الخطأ والتحقق من عدمها قبل الإقدام على العملية.</li>
<li><strong>التدارك</strong>: ترك العملية لترجع بالخطأ؛ ثم نتعامل معه بحسبه.</li>
</ol>
<section id="الفرق-بين-الوقاية-والتدارك" class="level2" data-number="16.1">
<h2 data-number="16.1" class="anchored" data-anchor-id="الفرق-بين-الوقاية-والتدارك"><span class="header-section-number">16.1</span> الفرق بين الوقاية والتدارك</h2>
<p>هذا الفعل مسؤول عن تهيئة البرنامج، ومن خطواته أنه يقرأ ملف الضبط المخصص <code>custom_config.json</code>. وفي هذه الحالة قد يحصل خطأ. إذْ قد لا يكون الملف موجودًا أصلا!</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1"></a><span class="bu">file</span> <span class="op">=</span> <span class="bu">open</span>(<span class="st">'custom_config.json'</span>)</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>هذا الفعل مسؤول عن تهيئة البرنامج، ومن خطواته أنه يقرأ ملف الضبط المخصص <code>custom_config.json</code>. وفي هذه الحالة قد يحصل خطأ. إذْ قد لا يكون الملف موجودًا أصلا!</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1"></a><span class="kw">def</span> initialize_program():</span>
<span id="cb2-2"><a href="#cb2-2"></a>    <span class="co"># ... code before</span></span>
<span id="cb2-3"><a href="#cb2-3"></a>    <span class="bu">file</span> <span class="op">=</span> <span class="bu">open</span>(<span class="st">'custom_config.json'</span>)</span>
<span id="cb2-4"><a href="#cb2-4"></a>    <span class="co"># ... code after</span></span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>ففي هذه الحالة يحصل استثناء من نوع <code>FileNotFoundError</code>.</p>
<p>فإذا اخترنا طريق <strong>الوقاية</strong> فإننا أولاً نلتمس وجوده قبل فتحه. ونتعامل مع حالة الخطأ هذه (أي: عدمه)، بأن -مثلاً- نقرأ ملف الضبط الافتراضي <code>default.json</code> بدلاً من الملف المطلوب. والفرق بين هذا الملف والذي قبله أننا موقنون بوجوده، والأوَّل وجوده مظنون إذْ الذي يضعه هو المستخدم.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1"></a><span class="kw">def</span> initialize_program():</span>
<span id="cb3-2"><a href="#cb3-2"></a>    <span class="co"># ... code before</span></span>
<span id="cb3-3"><a href="#cb3-3"></a>    <span class="cf">if</span> os.path.exists(<span class="st">'custom_config.json'</span>):</span>
<span id="cb3-4"><a href="#cb3-4"></a>        <span class="bu">file</span> <span class="op">=</span> <span class="bu">open</span>(<span class="st">'custom_config.json'</span>)</span>
<span id="cb3-5"><a href="#cb3-5"></a>    <span class="cf">else</span>:</span>
<span id="cb3-6"><a href="#cb3-6"></a>        <span class="bu">file</span> <span class="op">=</span> <span class="bu">open</span>(<span class="st">'default.json'</span>)</span>
<span id="cb3-7"><a href="#cb3-7"></a>    <span class="co"># ... code after</span></span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>وقد تقول، حسنًا ماذا يكون لو عُدم ملف <code>default.json</code> أيضًا؟ فنقول: لا بأس أن يحصل خطأ يوقف البرنامج. إذْ ذاك يعتبر خطأ منطقيًّا يجب إصلاحه بإضافة الملف، وليس ثمة مجال لأن يصلحه الكود بنفسه.</p>
<p>أما <strong>التدارك</strong> فيكون بجملة <code>try-except</code> على النحو التالي:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1"></a><span class="kw">def</span> initialize_program():</span>
<span id="cb4-2"><a href="#cb4-2"></a>    <span class="co"># ... code before</span></span>
<span id="cb4-3"><a href="#cb4-3"></a>    <span class="cf">try</span>:</span>
<span id="cb4-4"><a href="#cb4-4"></a>        <span class="bu">file</span> <span class="op">=</span> <span class="bu">open</span>(<span class="st">'custom_config.json'</span>)</span>
<span id="cb4-5"><a href="#cb4-5"></a>    <span class="cf">except</span> <span class="pp">FileNotFoundError</span>:</span>
<span id="cb4-6"><a href="#cb4-6"></a>        <span class="bu">file</span> <span class="op">=</span> <span class="bu">open</span>(<span class="st">'default.json'</span>)</span>
<span id="cb4-7"><a href="#cb4-7"></a>    <span class="co"># ... code after</span></span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>أما استعمال الوقاية ففيه شك بوجود <strong>فجوة زمنية</strong> بين عملية التحقق من وجود الملف وبين قراءته. فالحاسب تتوارد عليه البرمجيات، ولا يستأثر به برنامج واحد. فإذا تغيَّر الحال في هذه الفجوة الزمنية وعاد بالنقض على التحقق بعد حصوله انتفت الفائدة منه. لذا <strong>فالتدارك أضمن</strong>.</p>
<section id="الحالة-الأولى-خطأ-جديد-يستوعبه-السياق" class="level3">
<h3 class="anchored" data-anchor-id="الحالة-الأولى-خطأ-جديد-يستوعبه-السياق">الحالة الأولى: خطأ جديد يستوعبه السياق</h3>
<p>مثاله ما لو لم تكن أحد الصفات محددة، فيمكن تعيينها بقيمة افتراضية، ولا يلزمنا تصعيد الخطأ:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1"></a><span class="kw">def</span> save_user(user: <span class="bu">dict</span>):</span>
<span id="cb5-2"><a href="#cb5-2"></a>    <span class="cf">if</span> <span class="st">'language'</span> <span class="kw">not</span> <span class="kw">in</span> user:</span>
<span id="cb5-3"><a href="#cb5-3"></a>        user[<span class="st">'language'</span>] <span class="op">=</span> <span class="st">'ar'</span></span>
<span id="cb5-4"><a href="#cb5-4"></a>    <span class="co"># ... rest of the code</span></span>
<span id="cb5-5"><a href="#cb5-5"></a>    save_to_database(user)</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="الحالة-الثانية-خطأ-مرفوع-يستوعبه-السياق" class="level3">
<h3 class="anchored" data-anchor-id="الحالة-الثانية-خطأ-مرفوع-يستوعبه-السياق">الحالة الثانية: خطأ مرفوع يستوعبه السياق</h3>
<p>وقد مثلنا له بفتح الملف، ونمثل له بمثال آخر:</p>
<div id="cbef63de" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1"></a><span class="kw">def</span> get_user_guess() <span class="op">-&gt;</span> <span class="bu">int</span>:</span>
<span id="cb6-2"><a href="#cb6-2"></a>    <span class="bu">print</span>(<span class="st">'Please enter a number'</span>)</span>
<span id="cb6-3"><a href="#cb6-3"></a>    guess <span class="op">=</span> <span class="bu">input</span>()</span>
<span id="cb6-4"><a href="#cb6-4"></a>    <span class="cf">try</span>:</span>
<span id="cb6-5"><a href="#cb6-5"></a>        guess <span class="op">=</span> <span class="bu">int</span>(guess)</span>
<span id="cb6-6"><a href="#cb6-6"></a>    <span class="cf">except</span> <span class="pp">ValueError</span>:</span>
<span id="cb6-7"><a href="#cb6-7"></a>        <span class="bu">print</span>(<span class="ss">f'The value "</span><span class="sc">{</span>guess<span class="sc">}</span><span class="ss">" is not a number'</span>)</span>
<span id="cb6-8"><a href="#cb6-8"></a>        guess <span class="op">=</span> get_user_guess() <span class="co"># recursive call</span></span>
<span id="cb6-9"><a href="#cb6-9"></a>    <span class="cf">return</span> guess</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="الحالة-الثالثة-خطأ-جديد-لا-يستوعبه-السياق" class="level3">
<h3 class="anchored" data-anchor-id="الحالة-الثالثة-خطأ-جديد-لا-يستوعبه-السياق">الحالة الثالثة: خطأ جديد لا يستوعبه السياق</h3>
<p>في هذا المثال يجب أن تكون الوحدة إحدى القيم المسموحة: <code>C</code> أو <code>F</code>. وإلا فلا حيلة للفعل أن يتم وظيفته. لذا نرفع خطأ جديدًا بجملة <code>raise</code>.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1"></a><span class="kw">def</span> convert_temperature(value: <span class="bu">float</span>, unit: <span class="bu">str</span>) <span class="op">-&gt;</span> <span class="bu">float</span>:</span>
<span id="cb7-2"><a href="#cb7-2"></a>    <span class="cf">if</span> unit <span class="kw">not</span> <span class="kw">in</span> {<span class="st">'C'</span>, <span class="st">'F'</span>}:</span>
<span id="cb7-3"><a href="#cb7-3"></a>        <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="ss">f"Invalid unit: </span><span class="sc">{</span>unit<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb7-4"><a href="#cb7-4"></a>    </span>
<span id="cb7-5"><a href="#cb7-5"></a>    <span class="cf">if</span> unit <span class="op">==</span> <span class="st">'C'</span>:</span>
<span id="cb7-6"><a href="#cb7-6"></a>        <span class="cf">return</span> value <span class="op">*</span> <span class="dv">9</span><span class="op">/</span><span class="dv">5</span> <span class="op">+</span> <span class="dv">32</span></span>
<span id="cb7-7"><a href="#cb7-7"></a>    <span class="cf">elif</span> unit <span class="op">==</span> <span class="st">'F'</span>:</span>
<span id="cb7-8"><a href="#cb7-8"></a>        <span class="cf">return</span> (value <span class="op">-</span> <span class="dv">32</span>) <span class="op">*</span> <span class="dv">5</span><span class="op">/</span><span class="dv">9</span></span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="الحالة-الرابعة-خطأ-مرفوع-لا-يستوعبه-السياق" class="level3">
<h3 class="anchored" data-anchor-id="الحالة-الرابعة-خطأ-مرفوع-لا-يستوعبه-السياق">الحالة الرابعة: خطأ مرفوع لا يستوعبه السياق</h3>
<p>ففي هذا المثال عملية قسمة قد يحصل فيها قسمة على صفر في <code>(a / b)</code>، فيرتفع خطأ اسمه <code>ZeroDivisionError</code> من تلك العملية. والحقيقة أننا في هذا السياق ليس لنا أن نعدِّل الرقم، بل نريد لمن استدعى الفعل أن يعلم بالخطأ، ولسنا نريد إضافة معلومة أخرى فوق ذلك. لذا نسكت عنه (أي: لا نضع <code>try-except</code>) وهذا يجعله ينتقل مباشرة للفعل المستدعي.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1"></a><span class="kw">def</span> divide_lists(list1: <span class="bu">list</span>, list2: <span class="bu">list</span>) <span class="op">-&gt;</span> <span class="bu">list</span>:</span>
<span id="cb8-2"><a href="#cb8-2"></a>    result <span class="op">=</span> []</span>
<span id="cb8-3"><a href="#cb8-3"></a>    <span class="cf">for</span> a, b <span class="kw">in</span> <span class="bu">zip</span>(list1, list2):</span>
<span id="cb8-4"><a href="#cb8-4"></a>        result.append(a <span class="op">/</span> b)</span>
<span id="cb8-5"><a href="#cb8-5"></a>    <span class="cf">return</span> result</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>فإن من الأخطاء ما <strong>يتعذر على البرنامج معالجته بنفسه</strong>:</p>
<ul>
<li>إذا كانت المشكلة بامتلاء الذاكرة في الجهاز؛ فإن البرنامج ليس له إلا أن يخرج برسالة للمستخدم أو المسؤول عن الجهاز .. وليس للبرنامج أن يمسح بيانات المستخدم!</li>
<li>أما إذا كانت المشكلة في تأخر الإجابة من الخادم مثلاً، فقد نعيد المحاول مرة أخرى بعد ثوانٍ، ونعيدها لعددٍ محدد من المرات، أملاً في الحصول على إجابة. ثم بعد ذلك لا يمكن إلا أن نظهر رسالة خطأ إن نفدت جميع المحاولات.</li>
</ul>
</section>
</section>
<section id="إلتقاط-جميع-الأخطاء" class="level2" data-number="16.2">
<h2 data-number="16.2" class="anchored" data-anchor-id="إلتقاط-جميع-الأخطاء"><span class="header-section-number">16.2</span> إلتقاط جميع الأخطاء</h2>
<p>من الخطأ في المنطق البرمجي إلتقاط جميع الأخطاء في الأفعال باستعمال <code>except Exception</code> وهو النوع الشامل لجميع الأخطاء. فهذه الطريقة لا تخبرنا بنوع الخطأ وبالتالي لا نتعامل معه بحسبه، وإنما غاية ما تحقق هو منع تصعيد الخطأ لأعلى طبقة، إذْ حين يحصل ذلك توقف بايثون البرنامج (وعندها تظهر سلسلة الطلبات).</p>
<p>لكن يجوز ذلك في قطع الكود التي يُراد لها الاستمرار، وإن فشلَ شيئٌ فيها. مثلاً: لا تريد للخادم أن يتوقف تمامًا بمجرد حصول خطأ واحد في أحد خيوط التنفيذ الخاصة بخدمة أحد الطلبات. ففي مثل ذلك يسوغ استخدام <code>except Exception</code> الشاملة. انظر مثلاً <a href="https://github.com/pallets/flask/blob/2fec0b206c6e83ea813ab26597e15c96fab08be7/src/flask/app.py#L893-L900">قطعة الكود في إطار الويب فلاسك المسؤول عن استقبال الطلبات</a>.</p>
</section>
<section id="أنواع-الاستثناء-في-بايثون" class="level2" data-number="16.3">
<h2 data-number="16.3" class="anchored" data-anchor-id="أنواع-الاستثناء-في-بايثون"><span class="header-section-number">16.3</span> أنواع الاستثناء في بايثون</h2>
<p>وقد تم تعريف أنواع من الأخطاء في بايثون بحسب الحالة، وتم تقسيمها هكذا:</p>
<section id="syntaxerror" class="level3">
<h3 class="anchored" data-anchor-id="syntaxerror"><code>SyntaxError</code></h3>
<p><strong>السبب</strong>: خطأ نحوي في صياغة اللغة:</p>
<ul>
<li>كلمة غير صحيحة: خطأ في الإملاء</li>
<li>في وضع كلمة صحيحة في غير سياقها</li>
<li>محاذاة غير متسقة (<code>IndentationError</code>)</li>
</ul>
<p><strong>الحل</strong>: اقرأ رسالة الخطأ وستدلُّك على السبب والموضع الذي حصل فيه الخطأ.</p>
</section>
<section id="typeerror" class="level3">
<h3 class="anchored" data-anchor-id="typeerror"><code>TypeError</code></h3>
<p><strong>السبب</strong>:</p>
<ol type="1">
<li>طلب فعل بعدد أكثر أو أقل من العوامل الواجبة (مثل: <code>len(1, 2)</code>)</li>
<li>طلب فعل بعوامل لا تطابق النوع المحدد في تعريفه (مثل: <code>math.sqrt('nine')</code> أو <code>5 + '5'</code>)</li>
</ol>
<p><strong>الحل</strong>: الوقاية بـ <code>type()</code> أو <code>isinstance()</code> أو بالتأكد من تحويل النوع مسبقًا.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1"></a>a <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb9-2"><a href="#cb9-2"></a>b <span class="op">=</span> <span class="bu">input</span>(<span class="st">'Enter a number: '</span>)</span>
<span id="cb9-3"><a href="#cb9-3"></a>result <span class="op">=</span> a <span class="op">+</span> <span class="bu">int</span>(b)</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="valueerror" class="level3">
<h3 class="anchored" data-anchor-id="valueerror"><code>ValueError</code></h3>
<p><strong>السبب</strong>: أن يكون النوع صحيحًا (فلا يحصُل <code>TypeError</code>) لكن القيمة غير مقبولة.</p>
<ul>
<li>مثلاً: طلب فعل بقيمة نوعها عددي لكنَّها سالبة وهو لا يقبل إلا الموجبة. نحو: <code>math.sqrt(-16)</code> فالجذر التربيعي لا يقبل السالب.</li>
</ul>
<p><strong>الحل</strong>: الوقاية بفحص مدى القيمة ، نحو: <code>if x &gt;=0: math.sqrt(x)</code></p>
</section>
<section id="indexerror-keyerror" class="level3">
<h3 class="anchored" data-anchor-id="indexerror-keyerror"><code>IndexError</code> &amp; <code>KeyError</code></h3>
<p><strong>السبب</strong>: الرقم الذي استعمل في عملية الإشارة <code>[index]list</code> (قائمة) أو <code>dict[key]</code> (قاموس) يشير لما هو خارج المجموعة.</p>
<p>نحو:</p>
<div id="5154c630" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1"></a>my_list <span class="op">=</span> [<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>]</span>
<span id="cb10-2"><a href="#cb10-2"></a>idx <span class="op">=</span> <span class="dv">3</span></span>
<span id="cb10-3"><a href="#cb10-3"></a>value <span class="op">=</span> my_list[idx]</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<div class="ansi-escaped-output">
<pre><span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">IndexError</span>                                Traceback (most recent call last)
Cell <span class="ansi-green-fg">In[18], line 3</span>
<span class="ansi-green-fg ansi-bold">      1</span> my_list <span style="color:rgb(98,98,98)">=</span> [<span style="color:rgb(98,98,98)">10</span>, <span style="color:rgb(98,98,98)">20</span>, <span style="color:rgb(98,98,98)">30</span>]
<span class="ansi-green-fg ansi-bold">      2</span> idx <span style="color:rgb(98,98,98)">=</span> <span style="color:rgb(98,98,98)">3</span>
<span class="ansi-green-fg">----&gt; 3</span> value <span style="color:rgb(98,98,98)">=</span> <span class="ansi-yellow-bg">my_list</span><span class="ansi-yellow-bg">[</span><span class="ansi-yellow-bg">idx</span><span class="ansi-yellow-bg">]</span>

<span class="ansi-red-fg">IndexError</span>: list index out of range</pre>
</div>
</div>
</div>
<p>الحل بالوقاية:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1"></a><span class="cf">if</span> idx <span class="op">&lt;</span> <span class="bu">len</span>(my_list):</span>
<span id="cb11-2"><a href="#cb11-2"></a>    value <span class="op">=</span> my_list[idx]</span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="cf">else</span>:</span>
<span id="cb11-4"><a href="#cb11-4"></a>    <span class="co"># do something else</span></span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>أو بالتدارك:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1"></a><span class="cf">try</span>:</span>
<span id="cb12-2"><a href="#cb12-2"></a>    value <span class="op">=</span> my_list[idx]</span>
<span id="cb12-3"><a href="#cb12-3"></a><span class="cf">except</span> <span class="pp">IndexError</span>:</span>
<span id="cb12-4"><a href="#cb12-4"></a>    <span class="co"># do something else</span></span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>وكذلك في القاموس، نحو:</p>
<div id="1600bcc9" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1"></a>my_dict <span class="op">=</span> {<span class="st">'A'</span>: <span class="dv">10</span>, <span class="st">'B'</span>: <span class="dv">20</span>, <span class="st">'C'</span>: <span class="dv">30</span>}</span>
<span id="cb13-2"><a href="#cb13-2"></a>key <span class="op">=</span> <span class="st">'Z'</span></span>
<span id="cb13-3"><a href="#cb13-3"></a>value <span class="op">=</span> my_dict[key]</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<div class="ansi-escaped-output">
<pre><span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">KeyError</span>                                  Traceback (most recent call last)
Cell <span class="ansi-green-fg">In[19], line 3</span>
<span class="ansi-green-fg ansi-bold">      1</span> my_dict <span style="color:rgb(98,98,98)">=</span> {<span style="color:rgb(175,0,0)">'</span><span style="color:rgb(175,0,0)">A</span><span style="color:rgb(175,0,0)">'</span>: <span style="color:rgb(98,98,98)">10</span>, <span style="color:rgb(175,0,0)">'</span><span style="color:rgb(175,0,0)">B</span><span style="color:rgb(175,0,0)">'</span>: <span style="color:rgb(98,98,98)">20</span>, <span style="color:rgb(175,0,0)">'</span><span style="color:rgb(175,0,0)">C</span><span style="color:rgb(175,0,0)">'</span>: <span style="color:rgb(98,98,98)">30</span>}
<span class="ansi-green-fg ansi-bold">      2</span> key <span style="color:rgb(98,98,98)">=</span> <span style="color:rgb(175,0,0)">'</span><span style="color:rgb(175,0,0)">Z</span><span style="color:rgb(175,0,0)">'</span>
<span class="ansi-green-fg">----&gt; 3</span> value <span style="color:rgb(98,98,98)">=</span> <span class="ansi-yellow-bg">my_dict</span><span class="ansi-yellow-bg">[</span><span class="ansi-yellow-bg">key</span><span class="ansi-yellow-bg">]</span>

<span class="ansi-red-fg">KeyError</span>: 'Z'</pre>
</div>
</div>
</div>
<p>الحل بالوقاية</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1"></a><span class="cf">if</span> key <span class="kw">in</span> my_dict:</span>
<span id="cb14-2"><a href="#cb14-2"></a>    value <span class="op">=</span> my_dict[key]</span>
<span id="cb14-3"><a href="#cb14-3"></a><span class="cf">else</span>:</span>
<span id="cb14-4"><a href="#cb14-4"></a>    <span class="co"># do something else</span></span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>أو هكذا (تعيين قيمة افتراضية):</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1"></a>value <span class="op">=</span> my_dict.get(key, <span class="dv">0</span>)</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>أو بالتدارك:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1"></a><span class="cf">try</span>:</span>
<span id="cb16-2"><a href="#cb16-2"></a>    value <span class="op">=</span> my_dict[key]</span>
<span id="cb16-3"><a href="#cb16-3"></a><span class="cf">except</span> <span class="pp">KeyError</span>:</span>
<span id="cb16-4"><a href="#cb16-4"></a>    <span class="co"># do something else</span></span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="attributeerror-nameerror" class="level3">
<h3 class="anchored" data-anchor-id="attributeerror-nameerror"><code>AttributeError</code> &amp; <code>NameError</code></h3>
<p><strong>السبب</strong>: استعمال متغير أو فعل قبل تعريفه.</p>
<ul>
<li>فإن أسنِد إلى كائن؛ وقع <code>AttributeError</code></li>
<li>وإلا وقع <code>NameError</code></li>
</ul>
<div id="aceab977" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1"></a>a <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb17-2"><a href="#cb17-2"></a>a <span class="op">+</span> X</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<div class="ansi-escaped-output">
<pre><span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
Cell <span class="ansi-green-fg">In[20], line 2</span>
<span class="ansi-green-fg ansi-bold">      1</span> a <span style="color:rgb(98,98,98)">=</span> <span style="color:rgb(98,98,98)">10</span>
<span class="ansi-green-fg">----&gt; 2</span> a <span style="color:rgb(98,98,98)">+</span> <span class="ansi-yellow-bg">X</span>

<span class="ansi-red-fg">NameError</span>: name 'X' is not defined</pre>
</div>
</div>
</div>
<div id="044a1110" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1"></a>some_function(<span class="dv">55</span>)</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<div class="ansi-escaped-output">
<pre><span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
Cell <span class="ansi-green-fg">In[21], line 1</span>
<span class="ansi-green-fg">----&gt; 1</span> <span class="ansi-yellow-bg">some_function</span>(<span style="color:rgb(98,98,98)">55</span>)

<span class="ansi-red-fg">NameError</span>: name 'some_function' is not defined</pre>
</div>
</div>
</div>
<div id="59cc3584" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1"></a><span class="kw">class</span> A:</span>
<span id="cb19-2"><a href="#cb19-2"></a>    <span class="cf">pass</span></span>
<span id="cb19-3"><a href="#cb19-3"></a></span>
<span id="cb19-4"><a href="#cb19-4"></a>a <span class="op">=</span> A()</span>
<span id="cb19-5"><a href="#cb19-5"></a>a.x</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<div class="ansi-escaped-output">
<pre><span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">AttributeError</span>                            Traceback (most recent call last)
Cell <span class="ansi-green-fg">In[22], line 5</span>
<span class="ansi-green-fg ansi-bold">      2</span>     <span style="font-weight:bold;color:rgb(0,135,0)">pass</span>
<span class="ansi-green-fg ansi-bold">      4</span> a <span style="color:rgb(98,98,98)">=</span> A()
<span class="ansi-green-fg">----&gt; 5</span> <span class="ansi-yellow-bg">a</span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">.</span><span class="ansi-yellow-bg">x</span>

<span class="ansi-red-fg">AttributeError</span>: 'A' object has no attribute 'x'</pre>
</div>
</div>
</div>
<div id="e2b7b614" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1"></a>a.do_something()</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<div class="ansi-escaped-output">
<pre><span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">AttributeError</span>                            Traceback (most recent call last)
Cell <span class="ansi-green-fg">In[23], line 1</span>
<span class="ansi-green-fg">----&gt; 1</span> <span class="ansi-yellow-bg">a</span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">.</span><span class="ansi-yellow-bg">do_something</span>()

<span class="ansi-red-fg">AttributeError</span>: 'A' object has no attribute 'do_something'</pre>
</div>
</div>
</div>
</section>
<section id="modulenotfounderror" class="level3">
<h3 class="anchored" data-anchor-id="modulenotfounderror"><code>ModuleNotFoundError</code></h3>
<p><strong>السبب</strong>: فشل جُملة الاستيراد <code>import numpy</code></p>
<p><strong>الحل</strong>:</p>
<ul>
<li>تأكد من صحة الإملاء</li>
<li>تأكد من تثبيت الوحدة في البيئة التي يعمل فيها البرنامج: <code>pip install numpy</code></li>
</ul>
</section>
</section>
<section id="تعريف-أخطاء-جديدة" class="level2" data-number="16.4">
<h2 data-number="16.4" class="anchored" data-anchor-id="تعريف-أخطاء-جديدة"><span class="header-section-number">16.4</span> تعريف أخطاء جديدة</h2>
<p>تعريف الخطأ يكون بتعريف نوع جديد يرث من النوع <code>Exception</code>، وهذا ما يحققه السطر الأول بين القوسين. وتستطيع أن ترث ممن يرث، فتتكون لديك فروع من هذا الخطأ:</p>
<div id="2b10cfdc" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1"></a><span class="kw">class</span> ParentError(<span class="pp">Exception</span>):</span>
<span id="cb21-2"><a href="#cb21-2"></a>    <span class="cf">pass</span></span>
<span id="cb21-3"><a href="#cb21-3"></a></span>
<span id="cb21-4"><a href="#cb21-4"></a><span class="kw">class</span> XError(ParentError):</span>
<span id="cb21-5"><a href="#cb21-5"></a>    <span class="cf">pass</span></span>
<span id="cb21-6"><a href="#cb21-6"></a></span>
<span id="cb21-7"><a href="#cb21-7"></a><span class="kw">class</span> YError(ParentError):</span>
<span id="cb21-8"><a href="#cb21-8"></a>    <span class="cf">pass</span></span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">flowchart TD
    A[ParentError] --&gt; B[XError]
    A --&gt; C[YError]
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<p>وهذا الفعل يحصل فيه الخطأ بطريقة مصطنعة لكنها توضح ما نريد، وهو الخطأ الفرعي <code>XError</code> الذي يرث من الخطأ الأصلي <code>ParentError</code>:</p>
<div id="1b06834d" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1"></a><span class="kw">def</span> do_something():</span>
<span id="cb22-2"><a href="#cb22-2"></a>    <span class="cf">raise</span> XError(<span class="st">'Something went wrong'</span>)</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>ثم حين نفحص، تسطيع أن نطابق بالأصل أو الفرع:</p>
<div id="0ff92ed9" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1"></a><span class="cf">try</span>:</span>
<span id="cb23-2"><a href="#cb23-2"></a>    do_something()</span>
<span id="cb23-3"><a href="#cb23-3"></a><span class="cf">except</span> ParentError <span class="im">as</span> e:</span>
<span id="cb23-4"><a href="#cb23-4"></a>    <span class="bu">print</span>(<span class="st">"caught you:"</span>, e)</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>caught you: Something went wrong</code></pre>
</div>
</div>
</section>
<section id="منظور-آخر-للخطأ" class="level2" data-number="16.5">
<h2 data-number="16.5" class="anchored" data-anchor-id="منظور-آخر-للخطأ"><span class="header-section-number">16.5</span> منظور آخر للخطأ</h2>
<p>فائدة: لدينا طريقتان في التعامل مع الخطأ الواقعي، واختارت بايثون طريقة الاستثناء:</p>
<p>الأولى: <strong>رفع قيمة الخطأ بالاسثناء</strong>: لغات مثل C++ (1979)، Java (1998)، Python (1991) و JavaScript (1995) ترمي/ترفع الاستثناءات باستعمال عبارة مثلة <code>raise</code> أو عبارة <code>throw</code> على حسب اللغة. وتكون معالجة الخطأ بجملة <code>try-catch</code> أو <code>try-except</code>.</p>
<p>الثانية: <strong>الرجوع بقيمة الخطأ</strong>: اللغات الحديثة مثل Go (2009) و Rust (2015) ببساطة تعيد الخطأ كشيء (قيمة) عند حدوثه باستعمال جملة <code>return</code> التي في الفعل. وتكون معالجة الخطأ بجملة شرطية عاديَّة نحو: <code>if error == error_type</code></p>
<p>وبعض اللغات مثل: C (1978) وكذلك C++ (1985) تخلط بين النوعين!</p>
<hr>
<p><strong>المراجع</strong>:</p>
<ul>
<li><a href="https://docs.python.org/3.13/tutorial/errors.html">Python Tutorial: Exceptions</a></li>
<li>Miguel Grinberg: <a href="https://blog.miguelgrinberg.com/post/the-ultimate-guide-to-error-handling-in-python">The Ultimate Guide to Error Handling in Python</a></li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "تم النسخ!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "تم النسخ!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/hassanalgoz\.github\.io\/python\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/hassanalgoz/python/issues/new" class="toc-action"><i class="bi bi-github"></i>الإبلاغ عن مشكلة</a></li></ul></div></div></div></footer></body></html>