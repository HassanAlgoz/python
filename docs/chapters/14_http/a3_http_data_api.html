<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ar" xml:lang="ar" dir="rtl"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>22&nbsp; انتقال البيانات – البايثونية</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../logo.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-18c600aae80d5bc93e3bd4e059157cd8.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "لا يوجد نتائج",
    "search-matching-documents-text": "الصفحات المطابقة",
    "search-copy-link-title": "نسخ الرابط إلى الحافظة",
    "search-hide-matches-text": "إخفاء المطابقات الإضافية",
    "search-more-match-text": "مطابقة واحدة في هذه الصفحة",
    "search-more-matches-text": "مطابقات إضافية في هذه الصفحة",
    "search-clear-button-title": "إزالة",
    "search-text-placeholder": "ابحث عن...",
    "search-detached-cancel-button-title": "إلغاء",
    "search-submit-button-title": "إرسال",
    "search-label": "البحث"
  }
}</script>
<meta name="mermaid-theme" content="neutral">
<script src="../../site_libs/quarto-diagram/mermaid.min.js"></script>
<script src="../../site_libs/quarto-diagram/mermaid-init.js"></script>
<link href="../../site_libs/quarto-diagram/mermaid.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<meta name="twitter:title" content="22&nbsp; انتقال البيانات – البايثونية">
<meta name="twitter:description" content="">
<meta name="twitter:image" content="https://hassanalgoz.github.io/python/assets/WAN Network.png">
<meta name="twitter:image-height" content="869">
<meta name="twitter:image-width" content="1159">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="تبديل القائمة الجانبية" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../chapters/14_http/a1_use_library.html">تكامل البرمجيات</a></li><li class="breadcrumb-item"><a href="../../chapters/14_http/a3_http_data_api.html"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">انتقال البيانات</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="تبديل القائمة الجانبية" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="البحث" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../../">البايثونية</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/hassanalgoz/python/tree/main/book/" title="الكود المصدر" class="quarto-navigation-tool px-1" aria-label="الكود المصدر"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="التحميل" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="التحميل"><i class="bi bi-download"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="../../البايثونية.pdf">
              <i class="bi bi-file-pdf pe-1"></i>
            التحميل PDF
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="../../البايثونية.epub">
              <i class="bi bi-journal pe-1"></i>
            التحميل ePub
            </a>
          </li>
      </ul>
    </div>
    <div class="dropdown">
      <a href="" title="المشاركة" id="quarto-navigation-tool-dropdown-1" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="المشاركة"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-1">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=|url|">
              <i class="bi bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.facebook.com/sharer/sharer.php?u=|url|">
              <i class="bi bi-facebook pe-1"></i>
            Facebook
            </a>
          </li>
      </ul>
    </div>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="البحث"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">مقدمة</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../setup.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">إعداد بيئة التطوير</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/01_intro/a1_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">المقدمة الأولى: لغة البرمجة</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/01_intro/a2_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">المقدمة الثانية: جهاز الحاسب</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">باب الأعداد</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="تبديل القسم">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/02_numbers/a_numbers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">الأعداد</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/02_numbers/apps.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">تطبيقات</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/02_numbers/problems.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">مسائل</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/02_numbers/solutions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">حل المسائل</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">باب الشرط والتكرار</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="تبديل القسم">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/03_control_flow/a_control_flow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">الشرط والتكرار</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/03_control_flow/apps.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">تطبيقات</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/03_control_flow/problems.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">مسائل</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/03_control_flow/solutions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">حل المسائل</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">باب الأفعال</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="تبديل القسم">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/04_functions/a1_functions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">الأفعال</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/04_functions/a2_recursion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">الفعل المتسلسل</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/04_functions/a3_modules.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">الاستيراد والتصدير</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/04_functions/apps.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">تطبيقات</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">باب الجمع المرتب</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="تبديل القسم">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/05_sequences/a_sequences.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">الجمع المرتب</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/05_sequences/apps.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">تطبيقات</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/05_sequences/problems.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">مسائل</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">باب الجمع المرقوم</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="تبديل القسم">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/06_mapping/a_mapping.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">الجمع المرقوم</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/06_mapping/b_context.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">تطبيقات</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/06_mapping/c_problems.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">مسائل</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">باب النص</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="تبديل القسم">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/07_strings/a1_strings.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">النص</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/07_strings/a2_unicode.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">ترميز الحروف</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/07_strings/b_context.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">تطبيقات</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true">
 <span class="menu-text">باب الوقت والتاريخ</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true" aria-label="تبديل القسم">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/09_time/a1_time.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">الوقت</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true">
 <span class="menu-text">باب صياغة البيانات</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true" aria-label="تبديل القسم">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/08_files_and_directories/a0_path.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">الإشارة للملفات</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/08_files_and_directories/a1_serialization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">صياغة البيانات</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/08_files_and_directories/a2_directories.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">الدليل</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/08_files_and_directories/b_context.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">تطبيقات</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true">
 <span class="menu-text">باب البرمجة الشيئية</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true" aria-label="تبديل القسم">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/12_oop/a1_classes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">الأنواع</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/12_oop/a2_classes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">التجريد</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="true">
 <span class="menu-text">باب الخطأ والاستثناء</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="true" aria-label="تبديل القسم">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/13_errors/a1_errors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">الخطأ</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/13_errors/a2_exceptions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">الاستثناء</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="true">
 <span class="menu-text">تكامل البرمجيات</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="true" aria-label="تبديل القسم">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/14_http/a1_use_library.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">المكتبات المساهمة</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/14_http/a2_use_sdk.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">عدة تطوير البرمجية</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/14_http/a3_http_data_api.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">انتقال البيانات</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/14_http/a5_html.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">تواصل البرمجيات عبر الشبكة العالمية</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" role="navigation" aria-expanded="true">
 <span class="menu-text">الملحقات</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" role="navigation" aria-expanded="true" aria-label="تبديل القسم">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-12" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../appendix_collections.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">خريطة الجُمُوع</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../glossary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">قاموس المصطلحات</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">المحاور</h2>
   
  <ul>
  <li><a href="#المفيد-والمستفيد" id="toc-المفيد-والمستفيد" class="nav-link active" data-scroll-target="#المفيد-والمستفيد">المفيد والمستفيد</a>
  <ul class="collapse">
  <li><a href="#عنوان-المورد-الموحد" id="toc-عنوان-المورد-الموحد" class="nav-link" data-scroll-target="#عنوان-المورد-الموحد">عنوان المورِد الموحَّد</a></li>
  </ul></li>
  <li><a href="#الطلب-والجواب" id="toc-الطلب-والجواب" class="nav-link" data-scroll-target="#الطلب-والجواب">الطلب والجواب</a>
  <ul class="collapse">
  <li><a href="#المثال-الثاني-التخاطب-عبر-httpx" id="toc-المثال-الثاني-التخاطب-عبر-httpx" class="nav-link" data-scroll-target="#المثال-الثاني-التخاطب-عبر-httpx">المثال الثاني: التخاطب عبر <code>httpx</code></a></li>
  <li><a href="#المثال-الثالث" id="toc-المثال-الثالث" class="nav-link" data-scroll-target="#المثال-الثالث">المثال الثالث</a></li>
  <li><a href="#انطلق-بالتطبيق" id="toc-انطلق-بالتطبيق" class="nav-link" data-scroll-target="#انطلق-بالتطبيق">انطلق بالتطبيق</a></li>
  <li><a href="#الوسطاء" id="toc-الوسطاء" class="nav-link" data-scroll-target="#الوسطاء">الوسطاء</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/hassanalgoz/python/issues/new" class="toc-action"><i class="bi bi-github"></i>الإبلاغ عن مشكلة</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../chapters/14_http/a1_use_library.html">تكامل البرمجيات</a></li><li class="breadcrumb-item"><a href="../../chapters/14_http/a3_http_data_api.html"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">انتقال البيانات</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">انتقال البيانات</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>نتصوَّر <strong>الشبكة العالميَّة</strong> (الإنْتَرنِت) بأنها مجموعة أجهزة مترابطة بأشكال ارتباطات مختلفة. وكما هي السنة بين الأفراد والمؤسسات أن يخدم بعضهم بعضًا، ويتبادلون المنافع؛ فكذلك صار في العصر الرقمي تخادم عن طريق الحواسيب عبر الشبكة.</p>
<p>وكما أن المعادن موزعة مكامنها في طيات أطراف الأرض؛ فإن البيانات (المواد الخام) والمعلومات (المعالجة) وآليات المعالجة (الأجهزة والخوارزميات) كذلك؛ يتفاضل الناس فيما بينهم فيها. فيكون بينهم تبادل المنافع.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../../assets/WAN Network.png" class="img-fluid figure-img"></p>
<figcaption>شبكة محليَّة مرتبطة بموجِّه يربطها بشبكة أكبر (الشبكة العالمية) - الصورة من <a href="https://www.cloudflare.com/learning/network-layer/what-is-a-wan/">CloudFlare</a></figcaption>
</figure>
</div>
<p>فالصورة هذه توضِّح أن <strong>الشبكة المحليَّة</strong> (<a href="https://en.wikipedia.org/wiki/Local_area_network">Local Area Network - LAN</a>) -الذي يكون جهاز أحدنا فردًا من أفرادها- مرتبطةٌ بموجِّه (Router) يكون بمثابة البوابة إلى الشبكات الأخرى. فأي اتصال يكون بيننا وبين العالم يمرُّ عبره.</p>
<p>وأما <strong>شبكة الشبكات</strong> فتسمى (<a href="https://en.wikipedia.org/wiki/Wide_area_network">Wide Area Network - WAN</a>)؛ وهكذا ببساطة نتصوَّر الشبكة العالمية؛ الإنرتنت.</p>
<section id="المفيد-والمستفيد" class="level2">
<h2 class="anchored" data-anchor-id="المفيد-والمستفيد">المفيد والمستفيد</h2>
<p>تخضع المراسلات بين البرمجيات التطبيقية لقواعد تواصل تسمى <strong>HTTP</strong> (Hyper-Text Transfer Protocol)؛ وهي حرفيًّا بمعنى قواعد تناقل النص الفائق. وسيأتي بيان معنى الفائقية عند شرح <strong>HTML</strong> (Hyper-text Markup Language) لأن هذين المفهومين مرتبطان.</p>
<p>وعندما ننظر إلى أفراد التبادلات المعلوماتية بين الحواسيب، فإن أحد الطرفين يكون له دوْر المستفيد والآخر يكون له دوْر المفيد؛ ثم قد ينعكس الدوْر:</p>
<ul>
<li>فأما <strong>المفيد</strong> فيسمى كذلك المزوِّد (provider) أو الخادم (server) باعتبار المنتَج أو الخدمة البرمجية.</li>
<li>وأما <strong>المستفيد</strong> فيسمى كذلك المستخدم (user) أو العميل (client) أو المستهلك (consumer).</li>
</ul>
<p>وجب أولاً أن نعرف كيف يجد المستفيد من يفيده …</p>
<section id="عنوان-المورد-الموحد" class="level3">
<h3 class="anchored" data-anchor-id="عنوان-المورد-الموحد">عنوان المورِد الموحَّد</h3>
<p>إن اصطلاح <strong>عنوان المورِد الموحَّد</strong> <strong>URL</strong> (Uniform Resource Locator) هو الذي نقصده عندما نقول <strong>رابط</strong> (Link أو Hyper-link reference وتختصر <code>href</code>) لأن صياغة الروابط عادةً ما تتبع هذه الصيغة الموحَّدة. وهي التي تتضمَّنُ عادةً جزئيَّة <code>com.</code> أو <code>net.</code> ونحوهما؛ وتتضمن بعدها مسارًا فرعيًّا. ونمثل على ذلك بمثال بسيط:</p>
<pre><code>https://github.com/HassanAlgoz/python</code></pre>
<p>ففيه:</p>
<ul>
<li><strong>الصياغة</strong>: <code>https</code></li>
<li><strong>العنوان الأساسي</strong>: <code>github.com</code></li>
<li><strong>المسار الفرعي</strong>: <code>HassanAlgoz/python/</code></li>
<li><strong>المورِد</strong>: <code>python</code></li>
</ul>
<p>أما مصطلح <strong>المورِد</strong> (Resource) فعامٌّ يشمل شيئًا مُجرَّدًا يتم الوصول إليه بعنوان مُصاغٍ بصيغة متفقٍ عليها. سواءٌ كان موجودًا قبل الوصول إليه، أو يتمُّ إنتاجه متى طُلِب. فقد يكون ملفَّ بيانات أو صفحةً تُعرَض أو معالجةً قيِّمة.</p>
<p>فلو جربت نسخ الرابط السابق ووضعته في الشريط الأعلى للمتصفح وكبست زر <code>Enter</code> فسيأخذك المتصفح إلى تلك الصفحة. وسيأتي الكلام عن بناء الصفحات في حينه إن شاء الله.</p>
</section>
</section>
<section id="الطلب-والجواب" class="level2">
<h2 class="anchored" data-anchor-id="الطلب-والجواب">الطلب والجواب</h2>
<p>ومن مفاهيم لغة التخاطب عبر تطبيقات الشبكة (HTTP) أيضًا:</p>
<p><strong>الطلب</strong> (request) وهو الرسالة التي تشمل:</p>
<ul>
<li><strong>محتوى</strong>: <code>body / content</code></li>
<li><strong>العميل</strong> (المُرسِل): <code>user-agent</code></li>
<li><strong>المستضيف</strong> (المُرسَل إليه): <code>Host</code></li>
</ul>
<p><strong>نوع الطلب</strong> (method) وأهمها:</p>
<ul>
<li><code>GET</code> لطلب الحصول على مورِد معيَّن</li>
<li><code>DELETE</code> لطلب حذف مورِد معيَّن</li>
</ul>
<p>ففيهما يتمُّ تحديد عنوان المورِد.</p>
<p>ثم لدينا:</p>
<ul>
<li><code>POST</code> لطلب إنشاء مورِد؛ يتمُّ تحديد تفاصيل الإنشاء في محتوى الرسالة</li>
<li><code>PUT</code> لطلب تعديل مورِد؛ يتمُّ تحديد تفاصيل التعديل في محتوى الرسالة</li>
</ul>
<p><strong>الرؤوس</strong> (headers) هي معلومات عن المعلومات التي في الطلب نفسه أو محتواه؛ بعضها أصلي وبعضها إضافي.</p>
<ul>
<li>مثلاً: <code>Content-Type: text/csv</code> تعني أن البيانات المرسلة عبارة عن ملف بصيغة CSV. وهو أصلي.</li>
<li>أما الإضافي فيبدأ بحرف <code>X</code> على هذا النحو: <code>x-api-key: 1234567890</code> هو مفتاح التطبيق الذي يسمح للطلب بالتعريف بصاحب الحساب لإتاحة الخدمة له.</li>
</ul>
<p><strong>المحتوى</strong> (body) هي البيانات المُرْسَلة أو المُسْتَلَمة؛ سواءٌ في الطلب أو جوابه.</p>
<ul>
<li>مثلاً: <code>{"name": "John", "age": 30}</code> هي بيانات عبارة عن قاموس بصيغة JSON.</li>
</ul>
<p><strong>جواب الطلب</strong> (response) وهو مثل الطلب في خصائصه؛ إلا أنَّه موجَّه بالعكس .. من الخادم إلى المخدوم.</p>
<p><strong>رمز حالة الطلب</strong> (status code) وتنقسِم إلى نطاقات، وكثيرٌ منها مُهمَل غير مُستعمل:</p>
<ul>
<li>نطاق <code>100-199</code> (فقط للعلم - ولا تهمنا)</li>
<li>نطاق <code>200-299</code> تعني أن الطلب تمُّ إنجازه بنجاح.</li>
<li>نطاق <code>300-399</code> إعادة توجيه</li>
<li>نطاق <code>400-499</code> إشكال من جهة العميل
<ul>
<li><code>400 -&gt; Bad Request</code> البيانات المُرسلة ليست صالحة</li>
<li><code>401 -&gt; Unauthorized</code> المفتاح مفقود أو غير صالح</li>
<li><code>403 -&gt; Forbidden</code> المفتاح صالح لكن ليس كافيًا للوصول</li>
<li><code>404 -&gt; Not Found</code> ما طلبته غير موجود</li>
</ul></li>
<li>نطاق <code>500-599</code> إشكال من جهة الخادم</li>
</ul>
<p>والرابط يشبه استدعاء الفعل. لاحظ أننا في بايثون نستدعي الفعل <code>pow</code> من الوحدة <code>math</code> ونمرر العوامل <code>2, 3</code> إليه على هذا النحو:</p>
<div id="fed1a1dd" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1"></a><span class="im">import</span> math</span>
<span id="cb2-2"><a href="#cb2-2"></a></span>
<span id="cb2-3"><a href="#cb2-3"></a>math.<span class="bu">pow</span>(<span class="dv">2</span>, <span class="dv">3</span>)</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="1">
<pre><code>8.0</code></pre>
</div>
</div>
<p>وهكذا نشبِّه ذلك بطريقة العنوان الموحَّد باعتبار أن المورِد هو معالجة؛ وهي سؤالٌ عن الطقس في مدينة لندن:</p>
<div class="ltr">
<table class="caption-top table">
<thead>
<tr class="header">
<th>Origin (الأصل)</th>
<th>Path (المسار)</th>
<th>Query (المعاملات)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>https://api.openweathermap.org</code></td>
<td><code>/weather</code></td>
<td><code>?city=London</code></td>
</tr>
<tr class="even">
<td><code>math</code></td>
<td><code>pow</code></td>
<td><code>2, 3</code></td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>فكما أننا نطلب الفعل <code>pow</code> من الوحدة <code>math</code> ونمرر العوامل <code>2, 3</code> إليه</li>
<li>فكذلك نطلب المورِد <code>/weather</code> من الموقع <code>https://api.openweathermap.org</code> ونمرر العوامل <code>?city=London</code> إليه
<ul>
<li>العامل يبتدأ بعلامة الاستفهام <code>?</code> ثم اسم العامل <code>city</code> وقيمته <code>London</code> وهو اسم المدينة</li>
</ul></li>
</ul>
<p>فالطريقة الأولى تستخدم في لغات البرمجة، والثانية هي مثيلتها كعنوان موحَّد على الشبكة (URL).</p>
<p>فصيغة الطلب النصية تبدو هكذا:</p>
<pre><code>GET /cats.csv HTTP/1.1
Host: example.com
x-api-key: 1234567890</code></pre>
<ul>
<li>نوع الطلب: <code>GET</code></li>
<li>المسار: <code>/cats.csv</code></li>
<li>نوع اللغة: <code>HTTP/1.1</code> (وقد يكون <code>HTTP/2</code> أو <code>HTTP/3</code>)</li>
<li>العنوان الرئيسي: <code>example.com</code> (وهو الموقع الذي يوجد عليه الملف)</li>
<li>الرؤوس: <code>x-api-key: 1234567890</code> (وهو مفتاح التطبيق الذي يسمح للطلب بالوصول إلى الخدمة)</li>
</ul>
<p>فيأتي الجواب هكذا مثلاً بصيغة <code>JSON</code> كقائمة فيها عُنصران:</p>
<pre><code>HTTP/1.1 200 OK
Content-Type: application/json

[
    { 
        "id": "1",
        "name": "Whiskers",
        "age": 10
    },
    { 
        "id": "2",
        "name": "Fluffy",
        "age": 20
    }
]</code></pre>
<p>لكننا سنستعمل بايثون لتسهيل صياغة الطلب وتفسير جوابه في هذا الدرس.</p>
<p>لمزيد من التفاصيل راجع: <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Overview">HTTP overview</a>.</p>
<section id="المثال-الثاني-التخاطب-عبر-httpx" class="level3">
<h3 class="anchored" data-anchor-id="المثال-الثاني-التخاطب-عبر-httpx">المثال الثاني: التخاطب عبر <code>httpx</code></h3>
<p>ماذا لو لم تتوفَّر مكتبة خاصَّة بمزوِّد الخدمة؟ في هذه الحالة سنكتب نحن تفاصيل الاتصال بالخادم المزوِّد. وذلك يتطلب معرفة لغة التخاطب بين الخادم والعميل (HTTP).</p>
<p>يجب علينا أولاً تثبيت مكتبة <a href="https://www.python-httpx.org/"><code>httpx</code></a> باستعمال <code>uv</code>:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1"></a><span class="ex">uv</span> add httpx</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>ونمثل لمزود خدمة معلومات عن القطط (<a href="https://thecatapi.com/">The Cat API</a>)، وقد حصلنا على مفتاح التطبيق (API KEY) من خلال التسجيل في الموقع.</p>
<p>ولمعرفة الاستفادة من أي مزود خدمة، فإننا ندخل إلى صفحة المطورين، وتسمى (<a href="https://developers.thecatapi.com/">API Documentation</a>). ومنها نعرف أن المسار الذي يجب أن نطلبه هو <code>https://api.thecatapi.com/v1/images/search</code>، وهو يعطينا صورة قط عشوائية.</p>
<p>أما المفتاح، فنضعه في الرؤوس (headers) تحت عنوان <code>x-api-key</code> كما يلي:</p>
<div id="318bb08d" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1"></a><span class="im">import</span> httpx</span>
<span id="cb7-2"><a href="#cb7-2"></a></span>
<span id="cb7-3"><a href="#cb7-3"></a>response <span class="op">=</span> httpx.get(</span>
<span id="cb7-4"><a href="#cb7-4"></a>    url<span class="op">=</span><span class="st">"https://api.thecatapi.com/v1/images/search"</span>,</span>
<span id="cb7-5"><a href="#cb7-5"></a>    headers<span class="op">=</span>{<span class="st">"x-api-key"</span>: <span class="st">"live_9Cj8P0h75D5h2D7Y2H8MYEuuTmTXjT412xNlbVBouHxn2sEnAjr1dr4JMfIn4Mr4"</span>}</span>
<span id="cb7-6"><a href="#cb7-6"></a>)</span>
<span id="cb7-7"><a href="#cb7-7"></a><span class="bu">print</span>(response.status_code)</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>200</code></pre>
</div>
</div>
<p>غالبًا ستظهر لك النتيجة <code>200</code> وهي تعني <code>OK</code> أي أن كل شيء سار على ما يرام.</p>
<p>وإذا نظرت إلى النصّ الموجود في الرد (<code>response.text</code>) فإنك ستلاحظ أنه نصُّ مقوْلَب بصيغة JSON التي سبق الحديث عنها:</p>
<div id="7daf28d4" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1"></a><span class="bu">print</span>(<span class="bu">type</span>(response.text))</span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="bu">print</span>(response.text)</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'str'&gt;
[{"id":"26c","url":"https://cdn2.thecatapi.com/images/26c.jpg","width":500,"height":333}]</code></pre>
</div>
</div>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">sequenceDiagram
    participant Client
    participant Server

    Client-&gt;&gt;Server: GET /cats.csv HTTP/1.1
        note right of Server: Request headers: x-api-key
    activate Server
    Server-&gt;&gt;+Client: HTTP/1.1 200 OK
        note right of Server: Response headers: Content-Type: application/json
        note right of Server: Response body: [ { ... } ]
    deactivate Server
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<p>ولكن هذا النص لا يمكن التعامل معه كما هو، لذلك نستخدم الفعل <code>json()</code> لتحويله إلى قائمة بالمعلومات:</p>
<div id="b1d197c7" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1"></a>data <span class="op">=</span> response.json()</span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="bu">print</span>(<span class="bu">type</span>(data))</span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="bu">print</span>(data)</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'list'&gt;
[{'id': '26c', 'url': 'https://cdn2.thecatapi.com/images/26c.jpg', 'width': 500, 'height': 333}]</code></pre>
</div>
</div>
<p>الآن أصبح في هيكل بيانات يمكن التعامل معه. فنريد استخراج رابط الصورة منه:</p>
<div id="55f20727" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1"></a>image_url <span class="op">=</span> data[<span class="dv">0</span>][<span class="st">"url"</span>]</span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="bu">print</span>(image_url)</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>https://cdn2.thecatapi.com/images/26c.jpg</code></pre>
</div>
</div>
<p>فهذا الرابط، لو نسخته وأدخلته في المتصفح فستظهر لك صورة القط.</p>
<div id="730efba3" class="cell" data-execution_count="7">
<details class="code-fold">
<summary>الكود</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1"></a><span class="co"># caption: نستعمل هذا الكود لعرض الصورة في صفحة الكتاب</span></span>
<span id="cb15-2"><a href="#cb15-2"></a></span>
<span id="cb15-3"><a href="#cb15-3"></a><span class="im">from</span> IPython.display <span class="im">import</span> Image, display</span>
<span id="cb15-4"><a href="#cb15-4"></a></span>
<span id="cb15-5"><a href="#cb15-5"></a>display(Image(url<span class="op">=</span>image_url))</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<img src="https://cdn2.thecatapi.com/images/26c.jpg">
</div>
</div>
</section>
<section id="المثال-الثالث" class="level3">
<h3 class="anchored" data-anchor-id="المثال-الثالث">المثال الثالث</h3>
<p>لنأخذ مثالاً آخر على استخدام خدمة برمجية، وهي خدمة الطقس من <a href="https://openweathermap.org/api/one-call-3">OpenWeatherMap</a>. هذه الخدمة تتيح لنا معرفة حالة الطقس في أي مدينة في العالم.</p>
<p>أولاً، نحتاج إلى مفتاح API من الموقع (يمكنك الحصول عليه مجاناً بعد التسجيل). ثم نستخدم مكتبة <code>httpx</code> للاتصال بالخدمة.</p>
<p>ففي <a href="https://openweathermap.org/api/one-call-3">صفحة التوثيق</a> قالوا إن طريقة الطلب هي على النحو التالي:</p>
<pre><code>https://api.openweathermap.org/data/3.0/onecall?lat={lat}&amp;lon={lon}&amp;exclude={part}&amp;appid={API key}</code></pre>
<p>نشرح الرابط حتى تتبين أجزاؤه ليسهل عليك بعد ذلك قراءة أية رابط:</p>
<ul>
<li><code>https://api.openweathermap.org/data/3.0/onecall</code> هو الرابط الأساسي للخدمة</li>
<li><code>?</code> هي فاصلة أوَّل عامِل (وهو <code>lat</code> في هذا المثال،و كان من الممكن أن يكون <code>lon</code>)</li>
<li><code>lat={lat}</code> هو تعيين للعامل الأوَّل بقيمة <code>lat</code> خط العرض</li>
<li><code>lon={lon}</code> هو تعيين للعامل الثاني بقيمة <code>lon</code> خط الطول</li>
<li><code>exclude={part}</code> هو الجزء الذي نريد إهماله من النتائج (سنتركه فارغًا)</li>
<li><code>appid={API key}</code> هو مفتاح التطبيق الذي يسمح للطلب بالوصول إلى الخدمة</li>
</ul>
<p>ونحن نكتبها في بايثون مع مكتبة <code>httpx</code> على النحو التالي:</p>
<div id="f16902ea" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1"></a><span class="im">import</span> httpx</span>
<span id="cb17-2"><a href="#cb17-2"></a></span>
<span id="cb17-3"><a href="#cb17-3"></a>lat <span class="op">=</span> <span class="fl">24.7136</span></span>
<span id="cb17-4"><a href="#cb17-4"></a>lon <span class="op">=</span> <span class="fl">46.6753</span></span>
<span id="cb17-5"><a href="#cb17-5"></a></span>
<span id="cb17-6"><a href="#cb17-6"></a>request <span class="op">=</span> httpx.get(</span>
<span id="cb17-7"><a href="#cb17-7"></a>    url<span class="op">=</span><span class="st">"https://api.openweathermap.org/data/3.0/onecall"</span>,</span>
<span id="cb17-8"><a href="#cb17-8"></a>    params<span class="op">=</span>{</span>
<span id="cb17-9"><a href="#cb17-9"></a>        <span class="st">"lat"</span>: <span class="bu">round</span>(lat, <span class="dv">4</span>),</span>
<span id="cb17-10"><a href="#cb17-10"></a>        <span class="st">"lon"</span>: <span class="bu">round</span>(lon, <span class="dv">4</span>),</span>
<span id="cb17-11"><a href="#cb17-11"></a>        <span class="st">"exclude"</span>: <span class="st">"minutely,hourly,daily,alerts"</span>, </span>
<span id="cb17-12"><a href="#cb17-12"></a>        <span class="st">"appid"</span>: <span class="st">"4a5417dd3a781b7f64f05178ed423a23"</span></span>
<span id="cb17-13"><a href="#cb17-13"></a>    }</span>
<span id="cb17-14"><a href="#cb17-14"></a>)</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>لاحظ تحديد الرابط <code>url</code> والمعاملات <code>params</code> التي ستوضع في الرابط نفسه.</p>
</section>
<section id="انطلق-بالتطبيق" class="level3">
<h3 class="anchored" data-anchor-id="انطلق-بالتطبيق">انطلق بالتطبيق</h3>
<p><strong>وبهذا تكون قادرًا على التعامل مع أي برمجيَّة توفِّر خدماتها عبر الشبكة. تحتاج فقط أن تُقدِم وتجرِّب حتى تأخذ يدك على الأمر!</strong></p>
</section>
<section id="الوسطاء" class="level3">
<h3 class="anchored" data-anchor-id="الوسطاء">الوسطاء</h3>
<p>وقد وصفنا أن الطلب مخرجه من جهاز المستفيد ومدخله إلى جهاز المفيد؛ وذلك باعتبار المآل. لكن على وجه التفصيل؛ هو يمر عن طريق شبكة الانترنت عبر عدة <strong>وسطاء</strong> (proxy) حتى يصل إلى موقعه، وهو ما تنظِّمه مؤسسات الاتصالات والشبكات والمعلومات عبر الجغرافيات. وقد تكون هذه وسطاء تجارية،</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://mdn.github.io/shared-assets/images/diagrams/http/overview/client-server-chain.svg" class="img-fluid figure-img"></p>
<figcaption>الوسطاء بين الخادم والمخدوم</figcaption>
</figure>
</div>
<p>ومن وظائفها:</p>
<ul>
<li><strong>التخزين</strong> (caching) لتسريع خدمة الطلبات المتكررة</li>
<li><strong>الترشيح</strong> (filtering) للوقاية من الفيروسات أو التحكم بالمحتوى المسموح</li>
<li><strong>توزيع الجهد</strong> (load balancing) وعادة ما يكون هذا الوسيط أقرب شيء إلى مجموعة خوادم متماثلة، يتم توزيع الطلبات المتكاثرة بينها لتتعاون في خدمتها ولا يتأخر جواب أحد منها</li>
<li><strong>التحقق</strong> (authentication) السماح المشروط بتسجيل أو اشتراك أو مكان معين</li>
<li><strong>التسجيل</strong> (logging) لمتابعة جميع الطلبات لغرض الكشف عن المشاكل أو معرفة الاختراقات أو الانتهاكات للأنظمة</li>
</ul>
<p>واتفق الناس على <strong>عنوان الموحَّد اللمورِد</strong></p>
<p>وإذا عرفنا أن لغات البشر تصل إلى الآلاف؛ والناس تلجأ إلى لغة وسيطة للتواصل بينهم مثل الإنجليزية أو الأوردية أو العربية الفصيحة، فالحال -من باب أولى- يصعب على الآلات الصماء التي تتبع أوامر بشكلٍ حرفيّ أن تتخاطَب إلا بضبط طريقة التواصل بقواعد صارمة، ويتفق الجميع على التخاطب بها ولو اختلفت لغات البرمجة.</p>
<p>ولهذا اختُرِعَت <strong>لغة نقل النص التشعُّبي</strong> HTTP (Hyper-text Transfer Protocol). والمقصود بالتشعُّب وجود الروابِط في صفحات الانرتنت التي تنقلك من نصٍّ إلى نصّ. وهذه النصوص ما هي إلا وصفٌ لمحتويات الصفحة التي تظهر أمامك؛ يُفسِّرُها البرنامج المتصفِّح الذي تستعمله على جهازك، لتظهر لك الفقرات والخطوط العريضة والألوان والتنسيق والصور التوضيحية والجداول والمقاطع والملفات ونصوص البرمجيات الملوَّنة والملفات المضمَّنة والمبدَّفة … وكل ما رأيت قطُّ في صفحة على الانرتنت. واللغة هذه تسمَّى <strong>لغة وصف النص التشعُّبي</strong>: HTML (Hyper-text Markup Language) وكذلك ما رأيت قط داخل أي تطبيقٍ من شاشة جوالٍ أو لوحي؛ فهي موصوفةٌ بنفس الطريقة بلغة أشمل معروفة بالأقواس المثلثة <code>&lt;XML&gt;</code> اسمها XML.</p>
<p>لكن الذي يهمُّنا أن لغة نقل النص التشعبي؛ لم تقتصر على النصوص ذات الروابط، بل وُظِّفَت لنقل أي نوع من البيانات عبر الشبكة بما فيها النصوص التي لا تحتوي على أية روابط (تشعبات). فإن البرمجيات تصوغ رسائلها بينها بلغة HTTP لتتواصل فيما بينها ويتم بينها التخادُم (مستفيد ومفيد). ومضمون الرسائل التي بينها عادةً ما يكون نصًّا مُصاغًا بصيغة XML أو JSON .. وقد يكون ملفًّا ثنائيًّا يحوي صورةً أو مقطعًا أو نصًّا.</p>
<p>ومن نظائر لغة التخاطب HTTP على الشبكة أيضًا:</p>
<ul>
<li>SMTP, IMAP, POP للبريد الإلكتروني</li>
<li>FTP لنقل الملفات</li>
<li>Web Socket لتبادل المعلومات على خط حي مفتوح</li>
</ul>
<p><a href="https://en.wikipedia.org/wiki/Lists_of_network_protocols">وغيرها كثير جدًّا</a>. إلا أن لغة HTTP خصصت للتصفح على شبكة الإنرتنت.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "تم النسخ!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "تم النسخ!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/hassanalgoz\.github\.io\/python\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/hassanalgoz/python/issues/new" class="toc-action"><i class="bi bi-github"></i>الإبلاغ عن مشكلة</a></li></ul></div></div></div></footer></body></html>