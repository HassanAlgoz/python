<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ar" xml:lang="ar" dir="rtl"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="مدخل عملي لتعلم البرمجة بلغة بايثون. كتاب موجه للمبتدئين في البرمجة من خلفيات تقنية أو غير تقنية، يعرض المفاهيم الأساسية بلغة واضحة، بتسلسل منطقي، مع مسائل واقعية وتطبيقات نافعة، بعيدًا عن العشوائية والسطحية. يصلح للتعلم الذاتي، وللتدريس كذلك">

<title>7&nbsp; التعبير النمطي – البايثونية</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../chapters/00_rewrite/08_objects.html" rel="next">
<link href="../../chapters/00_rewrite/06_text_files.html" rel="prev">
<link href="../../favicon.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-800706539903139ffa187a61ec5db5e0.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="../../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "لا يوجد نتائج",
    "search-matching-documents-text": "الصفحات المطابقة",
    "search-copy-link-title": "نسخ الرابط إلى الحافظة",
    "search-hide-matches-text": "إخفاء المطابقات الإضافية",
    "search-more-match-text": "مطابقة واحدة في هذه الصفحة",
    "search-more-matches-text": "مطابقات إضافية في هذه الصفحة",
    "search-clear-button-title": "إزالة",
    "search-text-placeholder": "ابحث عن...",
    "search-detached-cancel-button-title": "إلغاء",
    "search-submit-button-title": "إرسال",
    "search-label": "البحث"
  }
}</script>


<meta name="twitter:title" content="7&nbsp; التعبير النمطي – البايثونية">
<meta name="twitter:description" content="مدخل عملي لتعلم البرمجة بلغة بايثون. كتاب موجه للمبتدئين في البرمجة من خلفيات تقنية أو غير تقنية، يعرض المفاهيم الأساسية بلغة واضحة، بتسلسل منطقي، مع مسائل واقعية وتطبيقات نافعة، بعيدًا عن العشوائية والسطحية. يصلح للتعلم الذاتي، وللتدريس كذلك">
<meta name="twitter:image" content="https://hassanalgoz.github.io/python/assets/regex.png">
<meta name="twitter:image:alt" content="التعبير النمطي">
<meta name="twitter:image-height" content="424">
<meta name="twitter:image-width" content="360">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="تبديل القائمة الجانبية" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../chapters/00_rewrite/07_regex.html"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">التعبير النمطي</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="تبديل القائمة الجانبية" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="البحث" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../../">البايثونية</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/hassanalgoz/python/tree/main/book/" title="الكود المصدر" class="quarto-navigation-tool px-1" aria-label="الكود المصدر"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="المشاركة" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="المشاركة"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=|url|">
              <i class="bi bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.facebook.com/sharer/sharer.php?u=|url|">
              <i class="bi bi-facebook pe-1"></i>
            Facebook
            </a>
          </li>
      </ul>
    </div>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="البحث"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">مقدمة</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../setup.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">إعداد بيئة التطوير</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/00_rewrite/01_instructions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">النص البرمجي</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/00_rewrite/02_control_flow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">توالي الأوامر</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/00_rewrite/03_functions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">الدالة</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/00_rewrite/04_sequences.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">التسلسل</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/00_rewrite/05_computer_and_world.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">الحاسب والعالم</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/00_rewrite/06_text_files.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">الملفات النصية</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/00_rewrite/07_regex.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">التعبير النمطي</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/00_rewrite/08_objects.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">الكائنات</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/00_rewrite/09_time.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">الوقت</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false">
 <span class="menu-text">مسائل موضوعية</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="تبديل القسم">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/02_numbers/problems.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">في الأرقام</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/02_numbers/solutions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">حل المسائل</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/03_control_flow/problems.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">في الشرط والتكرار</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/03_control_flow/solutions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">حل المسائل</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/05_sequences/problems.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">في الجمع المرتب</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/05_sequences/solutions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">حل المسائل</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/06_mapping/c_problems.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">في الجمع المرقَّم</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false">
 <span class="menu-text">مسائل مفتوحة</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false" aria-label="تبديل القسم">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/apps/random_problem.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">شبه العشوائية</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/apps/sentiment_analysis_problem.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">تحليل المشاعر</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/apps/sentiment_analysis_solution.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">الحل</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/apps/ceasar_cipher_problem.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">التشفير</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false">
 <span class="menu-text">الملحقات</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false" aria-label="تبديل القسم">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/02_numbers/a_numbers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">الأرقام</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/02_numbers/apps.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">تطبيقات في الأرقام</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/03_control_flow/control_flow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">توالي الأوامر</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/03_control_flow/apps.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">D</span>&nbsp; <span class="chapter-title">تطبيقات في توالي الأوامر</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/08_procedural/a1_functions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">E</span>&nbsp; <span class="chapter-title">الدالة</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/05_sequences/a_sequences.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">F</span>&nbsp; <span class="chapter-title">التسلسل</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/05_sequences/apps.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">G</span>&nbsp; <span class="chapter-title">تطبيقات في التسلسل</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/06_mapping/a1_set.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">H</span>&nbsp; <span class="chapter-title">المجموعة</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/06_mapping/a2_dict.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">I</span>&nbsp; <span class="chapter-title">القاموس</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/06_mapping/b_apps.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">J</span>&nbsp; <span class="chapter-title">تطبيقات في القاموس</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/07_strings/a1_strings.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">K</span>&nbsp; <span class="chapter-title">النص</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/07_strings/a2_unicode.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">L</span>&nbsp; <span class="chapter-title">ترميز الحروف</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/07_strings/regex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">M</span>&nbsp; <span class="chapter-title">التعبير النمطي</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/09_files_and_directories/a1_file_io.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">N</span>&nbsp; <span class="chapter-title">الملفات</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/11_oop/a1_oop.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">O</span>&nbsp; <span class="chapter-title">البرمجة الكائنية</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../appendix/appendix_collections.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">P</span>&nbsp; <span class="chapter-title">خريطة الجُمُوع</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">المحاور</h2>
   
  <ul>
  <li><a href="#فئة-الأحرف" id="toc-فئة-الأحرف" class="nav-link active" data-scroll-target="#فئة-الأحرف">فئة الأحرف</a></li>
  <li><a href="#فئات-لها-رمز" id="toc-فئات-لها-رمز" class="nav-link" data-scroll-target="#فئات-لها-رمز">فئات لها رمز</a>
  <ul class="collapse">
  <li><a href="#الأرقام" id="toc-الأرقام" class="nav-link" data-scroll-target="#الأرقام">الأرقام</a></li>
  <li><a href="#الحروف" id="toc-الحروف" class="nav-link" data-scroll-target="#الحروف">الحروف</a></li>
  <li><a href="#طرف-الكلمة-b" id="toc-طرف-الكلمة-b" class="nav-link" data-scroll-target="#طرف-الكلمة-b">طرف الكلمة <code dir="ltr">\b</code></a></li>
  </ul></li>
  <li><a href="#التكرار-والتحديد" id="toc-التكرار-والتحديد" class="nav-link" data-scroll-target="#التكرار-والتحديد">التكرار والتحديد</a></li>
  <li><a href="#المطابقة" id="toc-المطابقة" class="nav-link" data-scroll-target="#المطابقة">المطابقة</a></li>
  <li><a href="#ضبط-عملية-المطابقة" id="toc-ضبط-عملية-المطابقة" class="nav-link" data-scroll-target="#ضبط-عملية-المطابقة">ضبط عملية المطابقة</a></li>
  <li><a href="#استخراج-المجموعات-من-النص" id="toc-استخراج-المجموعات-من-النص" class="nav-link" data-scroll-target="#استخراج-المجموعات-من-النص">استخراج المجموعات من النص</a></li>
  <li><a href="#تسمية-المجموعات" id="toc-تسمية-المجموعات" class="nav-link" data-scroll-target="#تسمية-المجموعات">تسمية المجموعات</a></li>
  <li><a href="#تفسير-التعبير-النمطي-مرة-واحدة" id="toc-تفسير-التعبير-النمطي-مرة-واحدة" class="nav-link" data-scroll-target="#تفسير-التعبير-النمطي-مرة-واحدة">تفسير التعبير النمطي مرة واحدة</a></li>
  <li><a href="#تحرير-التعبيرات-النمطية" id="toc-تحرير-التعبيرات-النمطية" class="nav-link" data-scroll-target="#تحرير-التعبيرات-النمطية">تحرير التعبيرات النمطية</a></li>
  <li><a href="#مصادر-أخرى-لتعلم-التعبيرات-النمطية" id="toc-مصادر-أخرى-لتعلم-التعبيرات-النمطية" class="nav-link" data-scroll-target="#مصادر-أخرى-لتعلم-التعبيرات-النمطية">مصادر أخرى لتعلم التعبيرات النمطية</a></li>
  <li><a href="#مسألة-ترتيب-سجل-التمارين-الملخبط" id="toc-مسألة-ترتيب-سجل-التمارين-الملخبط" class="nav-link" data-scroll-target="#مسألة-ترتيب-سجل-التمارين-الملخبط">مسألة: ترتيب سجل التمارين الملخبط</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/hassanalgoz/python/issues/new" class="toc-action"><i class="bi bi-github"></i>الإبلاغ عن مشكلة</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">التعبير النمطي</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../../assets/regex.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1" title="التعبير النمطي"><img src="../../assets/regex.png" class="img-fluid figure-img" alt="التعبير النمطي"></a></p>
<figcaption>التعبير النمطي</figcaption>
</figure>
</div>
<p>تستعمل التعبيرات النمطية لاستخراج البيانات من النصوص. على سبيل المثال، هذا سجل تمارين فيه في كل سطر نوع من أنواع التمارين وعدد الجلسات ومرات التكرار، لكنها غير مرتبة. فأحيانًا يكون الاسم في البداية، وأحيانا في الأخير … وهكذا.</p>
<div class="sourceCode" id="cb1" dir="ltr"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>text <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="st">Pushups 30 reps 3 sets</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="st">5 reps 2 sets Pullups</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="st">2 Sets 15 Reps One-leg Squats</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="st">4 sets 8 reps 22.5 lbs Dumbbell Rows</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="st">4 sets 8 reps 15.25kg Dumbbell Rows</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>التعبير النمطي</strong> (<a href="https://en.wikipedia.org/wiki/Regular_expression">Regular Expression</a>): طريقة لتحديد نمط من الرموز. والغرض منه: البحث عن هذا النمط في نص ما. وله في بايثون مكتبتان:</p>
<ul>
<li>مكتبة <a href="https://docs.python.org/3/library/re.html"><code dir="ltr">re</code></a> المبنية</li>
<li>مكتبة <a href="https://pypi.org/project/regex/"><code dir="ltr">regex</code></a> الخارجية والتي تدعم الترميز العالمي (Unicode) المهم للغة العربية.</li>
</ul>
<p>وسيكون حديثنا في هذا الباب عن المكتبة <code dir="ltr">re</code>. فنقوم باستيرادها كغيرها:</p>
<div id="ff27b2fd" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2" dir="ltr"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> re</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>وتستعمل الأحرف لتحديد النمط، ولذلك فإن بعضها له دلالة خاصة دون غيره.</p>
<p><strong>الأحرف الخاصة</strong> (meta-characters): هي أحرف ذات دلالة معيَّنة غير ما تبدو؛ وهي:</p>
<pre dir="ltr"><code>. ^ $ * + ? { } [ ] \ | ( )</code></pre>
<section id="فئة-الأحرف" class="level2">
<h2 class="anchored" data-anchor-id="فئة-الأحرف">فئة الأحرف</h2>
<p>سنبدأ أولاً بشرح محدد <strong>فئة الأحرف</strong> <code dir="ltr">[ ]</code> (Character Class) ويعمل كالآتي:</p>
<ul>
<li><code dir="ltr">[abc]</code> يطابق a أو b أو c</li>
<li><code dir="ltr">[^abc]</code> يطابق أي حرف غير a أو b أو c</li>
<li><code dir="ltr">[a-c]</code> يطابق أي حرف من a إلى c: <code dir="ltr">a</code> أو <code dir="ltr">b</code> أو <code dir="ltr">c</code></li>
<li><code dir="ltr">[3-7]</code> يطابق أي رقم من 3 إلى 7: <code dir="ltr">3</code> أو <code dir="ltr">4</code> أو <code dir="ltr">5</code> أو <code dir="ltr">6</code> أو <code dir="ltr">7</code></li>
<li><code dir="ltr">[a-zA-Z]</code> يطابق أي حرف صغير أو كبير من a إلى z أو A إلى Z</li>
<li><code dir="ltr">[a-zA-Z0-9_]</code> يطابق أي حرف صغير أو كبير أو رقم من a إلى z أو A إلى Z أو 0 إلى 9 أو <code dir="ltr">_</code> (الشرطة السفلية)</li>
</ul>
<p>وبهذا تعرف دلالة:</p>
<ul>
<li>علامة <code dir="ltr">^</code> في نحو: <code dir="ltr">[^</code> فإنها تدل على <strong>عكس الفئة</strong></li>
<li>علامة <code dir="ltr">-</code> في نحو: <code dir="ltr">[a-b]</code> فإنها تدل على <strong>الأحرف بين الحرفين (شاملة لهما)</strong></li>
</ul>
<p>تأمل المثال التالي:</p>
<div id="a7850443" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4" dir="ltr"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>text <span class="op">=</span> <span class="st">"I am 21 years old"</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>pattern <span class="op">=</span> <span class="st">"[0-9][0-9]"</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>match <span class="op">=</span> re.search(pattern, text)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(match)</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre dir="ltr"><code>&lt;re.Match object; span=(5, 7), match='21'&gt;</code></pre>
</div>
</div>
<ul>
<li>لاحظ أن النمط: <code dir="ltr">[0-9][0-9]</code> يطابق أي رقمين متتاليين من 0 إلى 9.</li>
<li>ويأتي الإجراء <a href="https://docs.python.org/3/library/re.html#search-vs-match"><code dir="ltr">re.search</code></a> للبحث داخل النص <code dir="ltr">text</code> عن النمط <code dir="ltr">pattern</code>؛ والنتيجة من النوع <a href="https://docs.python.org/3/library/re.html#match-objects"><code dir="ltr">Match</code></a> إذا وُجد النمط، وإلا فيكون <code dir="ltr">None</code>.</li>
</ul>
<p>ولاستخراج النص المطابق نستعمل الفعل <code dir="ltr">match.group()</code> هكذا:</p>
<div id="2be3beb2" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb6" dir="ltr"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> match:</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(match.group())</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre dir="ltr"><code>21</code></pre>
</div>
</div>
</section>
<section id="فئات-لها-رمز" class="level2">
<h2 class="anchored" data-anchor-id="فئات-لها-رمز">فئات لها رمز</h2>
<p>ينضم إلى الأحرف الآنف ذكرها:</p>
<dl>
<dt>
<code dir="ltr">\d</code> وعكسها <code dir="ltr">\D</code>
</dt>
<dd>
يطابق أي رقم عشري؛ وهو مكافئ: <code dir="ltr">[0-9]</code>.
</dd>
<dt>
<code dir="ltr">\w</code> وعكسها <code dir="ltr">\W</code>
</dt>
<dd>
يطابق الأحرف الأبجدية والأرقام والشرطة السفلية <code dir="ltr">[a-zA-Z0-9_]</code>. وبالنسبة لأنماط Unicode (str)، فإنه يطابق الأحرف الأبجدية الرقمية في Unicode (كما هو معرّف بواسطة <a href="https://docs.python.org/3/library/stdtypes.html#str.isalnum"><code dir="ltr">str.isalnum()</code></a>)، بالإضافة إلى الشرطة السفلية <code dir="ltr">_</code>.
</dd>
<dt>
<code dir="ltr">\s</code> وعكسها <code dir="ltr">\S</code>
</dt>
<dd>
يطابق المسافات البيضاء؛ وهو مكافئ: <code dir="ltr">[ \t\n\r\f\v]</code> (لاحظ وجود المسافة).
</dd>
<dt>
<code dir="ltr">\b</code> وعكسها <code dir="ltr">\B</code>
</dt>
<dd>
يطابق طرف كلمة
</dd>
</dl>
<p>ولأن بايثون تعتبر علامة <code dir="ltr">\</code> في النصوص علامةً على أحرف خاصة (<a href="http://docs.python.org/3/reference/lexical_analysis.html#escape-sequences">Escape Character</a>) مثل:</p>
<ul>
<li><code dir="ltr">\n</code> للسطر الجديد</li>
<li><code dir="ltr">\t</code> للمسافة البيضاء</li>
<li><code dir="ltr">\r</code> للرجوع إلى البداية</li>
<li><code dir="ltr">\f</code> للصفحة</li>
<li><code dir="ltr">\v</code> للمسافة العمودية</li>
</ul>
<p>ولتجنب التعارض بين حرف <code dir="ltr">\</code> المقصود في النص البايثوني المعروف، والاختصارات التي نريدها؛ فقد وضعت بايثون حرف <code dir="ltr">r</code> لتعطيل خصوصية الحرف <code dir="ltr">\</code> حتى تُكتَب الأنماط النصية بمى يسمى <strong>النص الخام</strong> (raw string) كما سيأتي.</p>
<section id="الأرقام" class="level3">
<h3 class="anchored" data-anchor-id="الأرقام">الأرقام</h3>
<div id="2d3be1a9" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb8" dir="ltr"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>text <span class="op">=</span> <span class="st">"I am 21 years old"</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>pattern <span class="op">=</span> <span class="vs">r"</span><span class="dv">\d\d</span><span class="vs">"</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>match <span class="op">=</span> re.search(pattern, text)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> match:</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(match.group())</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre dir="ltr"><code>21</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
نصيحة
</div>
</div>
<div class="callout-body-container callout-body">
<p>دائمًا استعمل <strong>النص الخام</strong> (بالعلامة <code dir="ltr">r</code>) عند كتابة الأنماط.</p>
</div>
</div>
</section>
<section id="الحروف" class="level3">
<h3 class="anchored" data-anchor-id="الحروف">الحروف</h3>
<p>وأما لمطابقة الحروف فإننا قد نستعمل الاختصار <code dir="ltr">\w</code>، والنمط التالي يقول: <strong>أي حرفين يتوسطهما حرف <code dir="ltr">a</code></strong> مثل: <code dir="ltr">cat</code> أو <code dir="ltr">bat</code> أو <code dir="ltr">rat</code>. والخارج من هذا النمط هو كلمة: <code dir="ltr">dog</code>.</p>
<div id="f416aaed" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb10" dir="ltr"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>animals <span class="op">=</span> [</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"cat"</span>,</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"bat"</span>,</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"dog"</span>,</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"rat"</span>,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>pattern <span class="op">=</span> <span class="vs">r"</span><span class="dv">\w</span><span class="vs">a</span><span class="dv">\w</span><span class="vs">"</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> animal <span class="kw">in</span> animals:</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>    match <span class="op">=</span> re.search(pattern, animal)</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> match:</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(match.group())</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre dir="ltr"><code>cat
bat
rat</code></pre>
</div>
</div>
<p>لاحظ أن النمط <code dir="ltr">\wa\w</code> يتكون من ثلاثة أجزاء:</p>
<ol type="1">
<li><code dir="ltr">\w</code> تطابق الأحرف الأبجدية والأرقام والشرطة السفلية</li>
<li><code dir="ltr">a</code> تطابق الحرف <code dir="ltr">a</code> كما هو</li>
<li><code dir="ltr">\w</code> تطابق الأحرف الأبجدية والأرقام والشرطة السفلية</li>
</ol>
</section>
<section id="طرف-الكلمة-b" class="level3">
<h3 class="anchored" data-anchor-id="طرف-الكلمة-b">طرف الكلمة <code dir="ltr">\b</code></h3>
<p>يطابق الرمز <code dir="ltr">\b</code>، وتستعمل للسياقات التي نريد فيها المطابقة الكليَّة للكلمة، لا أن تكون جُزءًا من كلمة أخرى.</p>
<div id="6d8c6fd7" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb12" dir="ltr"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>text1 <span class="op">=</span> <span class="st">"My ear"</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>text2 <span class="op">=</span> <span class="st">"I arrived early"</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>text3 <span class="op">=</span> <span class="st">"This is the end of the year"</span></span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>لاحظ في المثال التالي أن النمط لا يطابق إلا النص الأوَّل، وذلك لأنه يشترط أن تكون الكلمة ذات حافة في الأول وفي الأخير:</p>
<div id="3b223384" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb13" dir="ltr"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>entire <span class="op">=</span> <span class="vs">r"</span><span class="dv">\b</span><span class="vs">"</span> <span class="op">+</span> <span class="st">"ear"</span> <span class="op">+</span> <span class="vs">r"</span><span class="dv">\b</span><span class="vs">"</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(re.search(entire, text1))</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(re.search(entire, text2))</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(re.search(entire, text3))</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre dir="ltr"><code>&lt;re.Match object; span=(3, 6), match='ear'&gt;
None
None</code></pre>
</div>
</div>
<p>لاحظ في المثال التالي مطابقة الأول والثاني، لكوْن اشتراط الحافة في البداية فقط:</p>
<div id="e3056f46" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb15" dir="ltr"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>starts <span class="op">=</span> <span class="vs">r"</span><span class="dv">\b</span><span class="vs">"</span> <span class="op">+</span> <span class="st">"ear"</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(re.search(starts, text1))</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(re.search(starts, text2))</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(re.search(starts, text3))</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre dir="ltr"><code>&lt;re.Match object; span=(3, 6), match='ear'&gt;
&lt;re.Match object; span=(10, 13), match='ear'&gt;
None</code></pre>
</div>
</div>
<p>وأما هذا المثال الأخير، فيطابق الأول والأخير، لكوْنهما ذوي حافة في النهاية:</p>
<div id="bb666bf9" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb17" dir="ltr"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>ends   <span class="op">=</span> <span class="st">"ear"</span> <span class="op">+</span> <span class="vs">r"</span><span class="dv">\b</span><span class="vs">"</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(re.search(ends, text1))</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(re.search(ends, text2))</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(re.search(ends, text3))</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre dir="ltr"><code>&lt;re.Match object; span=(3, 6), match='ear'&gt;
None
&lt;re.Match object; span=(24, 27), match='ear'&gt;</code></pre>
</div>
</div>
</section>
</section>
<section id="التكرار-والتحديد" class="level2">
<h2 class="anchored" data-anchor-id="التكرار-والتحديد">التكرار والتحديد</h2>
<p>تستعمل علامات التكرار / <strong>المحددات الكمية</strong> (Quantifiers) لتعيين مرات التكرار من النمط السابق. وهي على النحو التالي:</p>
<ul>
<li><code dir="ltr">{3}</code> ثلاث مرات بالضبط</li>
<li><code dir="ltr">{2,4}</code> من 2 إلى 4 مرات</li>
<li><code dir="ltr">{3,}</code> ثلاث مرات أو أكثر</li>
<li><code dir="ltr">+</code> مرة أو أكثر</li>
<li><code dir="ltr">*</code> صفر أو أكثر</li>
<li><code dir="ltr">?</code> صفر أو مرة واحدة فقط</li>
</ul>
<p>ولتحديد مجموعة من الأحرف ضمن النمط نستعمل القوسين الدائريين: <code dir="ltr">( )</code> حول النمط ليكون <strong>مجموعة مطابقة</strong> (<a href="https://docs.python.org/3/howto/regex.html#grouping">Match Group</a>).</p>
<p>مثلاً، تريد مطابقة السعر في النصوص التالية:</p>
<div id="1acb23a1" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb19" dir="ltr"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>prices <span class="op">=</span> [</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"it costs 123"</span>,</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"I bought it for 12.3 last time"</span>,</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"I paid 12.34 SAR for it"</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>]</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>فتستعمل المنط التالي:</p>
<div id="2ffeb395" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb20" dir="ltr"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>pattern <span class="op">=</span> <span class="vs">r"</span><span class="dv">\d</span><span class="op">+</span><span class="kw">(</span><span class="ch">\.</span><span class="dv">\d</span><span class="op">+</span><span class="kw">)</span><span class="op">?</span><span class="vs">"</span></span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>ويتكون من ثلاثة أجزاء:</p>
<ul>
<li><code dir="ltr">\d+</code> ويتكون من جزئين:
<ul>
<li><code dir="ltr">\d</code> رقم</li>
<li><code dir="ltr">+</code> مرة أو أكثر</li>
</ul></li>
<li><code dir="ltr">(...)?</code> ما بين القوسين: صفر أو مرة واحدة فقط
<ul>
<li><code dir="ltr">\.</code> نحتاج علامة <code dir="ltr">\</code> لتعطيل خصوصية حرف النقطة ولولاه لدلت على مطابقة أي حرف</li>
<li><code dir="ltr">\d+</code> رقم، مرة أو أكثر</li>
</ul></li>
</ul>
<div id="1ce0b8e1" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb21" dir="ltr"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> p <span class="kw">in</span> prices:</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>    match <span class="op">=</span> re.search(pattern, p)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> match:</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">'price:'</span>, match.group())</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre dir="ltr"><code>price: 123
price: 12.3
price: 12.34</code></pre>
</div>
</div>
</section>
<section id="المطابقة" class="level2">
<h2 class="anchored" data-anchor-id="المطابقة">المطابقة</h2>
<p>توجد في بايثون أربعة أفعال أساسية للمطابقة:</p>
<ul>
<li><code dir="ltr">re.match(pattern, string, flags=0) -&gt; Match | None</code>
<ul>
<li>مطابقة النمط في بداية السلسلة النصية.</li>
</ul></li>
<li><code dir="ltr">re.search(pattern, string, flags=0) -&gt; Match | None</code>
<ul>
<li>البحث عن أول تطابق للنمط في السلسلة النصية.</li>
</ul></li>
<li><code dir="ltr">re.findall(pattern, string, flags=0) -&gt; list</code>
<ul>
<li>إنشاء قائمة من جميع التطابقات للنمط في السلسلة النصية.</li>
</ul></li>
<li><code dir="ltr">re.finditer(pattern, string, flags=0) -&gt; Iterator[Match[str]]</code>
<ul>
<li>إنشاء مكرر لجميع التطابقات للنمط في السلسلة النصية.</li>
</ul></li>
</ul>
<p>فأما الشيء الناتج عن هذه <strong>المطابقة</strong>، وهو <a href="https://docs.python.org/3/library/re.html#match-objects"><code dir="ltr">Match</code></a>؛ فيتضمن أربعة صفات:</p>
<ul>
<li><a href="https://docs.python.org/3/library/re.html#re.Match.group"><code dir="ltr">group()</code></a></li>
<li><code dir="ltr">start()</code></li>
<li><code dir="ltr">end()</code></li>
<li><code dir="ltr">span()</code></li>
</ul>
<p>وبالمثال يتضح المقال:</p>
<div id="a8d1be4b" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb23" dir="ltr"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>text <span class="op">=</span> <span class="st">"Pushups 20 reps 4 sets"</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>pattern <span class="op">=</span> <span class="vs">r"</span><span class="dv">\d</span><span class="op">+</span><span class="vs">"</span></span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>الأمر الأول: المطابقة بالفعل <code dir="ltr">.match()</code> تكون من بداية النص. وبالتالي فإنك لو طابقت على هذا النص كاملاً فلن تطابقها، مع أن المطابقة تنفع مع الرقم وحده. مطابقة على النص كاملاً:</p>
<div id="1bec8491" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb24" dir="ltr"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(re.match(pattern, text))</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre dir="ltr"><code>None</code></pre>
</div>
</div>
<p>مطابقة على الرقم وحده (متحققة):</p>
<div id="8f1b80ad" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb26" dir="ltr"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(re.match(pattern, <span class="st">"20"</span>))</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre dir="ltr"><code>&lt;re.Match object; span=(0, 2), match='20'&gt;</code></pre>
</div>
</div>
<p>لذلك نستعمل المطابقة بالفعل <code dir="ltr">.search()</code> للبحث عن النمط في أي موضع من النص:</p>
<div id="e2ab6b6c" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb28" dir="ltr"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(re.search(pattern, text))</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre dir="ltr"><code>&lt;re.Match object; span=(8, 10), match='20'&gt;</code></pre>
</div>
</div>
<p>ويمكننا الوصول لصفات المطابقة:</p>
<div id="c9a9d463" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb30" dir="ltr"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> re.search(pattern, text)</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(m.group())</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(m.start(), m.end())</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(m.span())</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre dir="ltr"><code>20
8 10
(8, 10)</code></pre>
</div>
</div>
<p>لكن المطابقة أتت بعدد واحد، وقصدنا أن نطابقهما كليهما: <code dir="ltr">20</code> و <code dir="ltr">4</code> في المثال. ولذلك نستعمل الإجراء <code dir="ltr">.findall()</code> على النحو التالي:</p>
<div id="69e28edf" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb32" dir="ltr"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>ol <span class="op">=</span> re.findall(pattern, text)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(ol)</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre dir="ltr"><code>['20', '4']</code></pre>
</div>
</div>
<p>فإن أردت المطابقة (<code dir="ltr">Match</code>) (لا النص المطابَق)، فاستعمال الإجراء <code dir="ltr">.finditer()</code> على النحو التالي:</p>
<div id="15f0468a" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb34" dir="ltr"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>it <span class="op">=</span> re.finditer(pattern, text)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> m <span class="kw">in</span> it:</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(m)</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre dir="ltr"><code>&lt;re.Match object; span=(8, 10), match='20'&gt;
&lt;re.Match object; span=(16, 17), match='4'&gt;</code></pre>
</div>
</div>
</section>
<section id="ضبط-عملية-المطابقة" class="level2">
<h2 class="anchored" data-anchor-id="ضبط-عملية-المطابقة">ضبط عملية المطابقة</h2>
<p>تستعمل <a href="https://docs.python.org/3/howto/regex.html#compilation-flags">الأعلام</a> لضبط التطابق من عدة وجوه:</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>العلم</th>
<th>المعنى</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="https://docs.python.org/3/library/re.html#re.ASCII"><code dir="ltr">ASCII</code></a>,&nbsp;<a href="https://docs.python.org/3/library/re.html#re.A"><code dir="ltr">A</code></a></td>
<td>يجعل الرموز مثل&nbsp;<code dir="ltr">\w</code>,&nbsp;<code dir="ltr">\b</code>,&nbsp;<code dir="ltr">\s</code>&nbsp;و&nbsp;<code dir="ltr">\d</code>&nbsp;تطابق فقط الأحرف ASCII.</td>
</tr>
<tr class="even">
<td><a href="https://docs.python.org/3/library/re.html#re.DOTALL"><code dir="ltr">DOTALL</code></a>,&nbsp;<a href="https://docs.python.org/3/library/re.html#re.S"><code dir="ltr">S</code></a></td>
<td>يجعل الرمز&nbsp;<code dir="ltr">.</code>&nbsp;يطابق أي حرف، بما في ذلك الأسطر الجديدة.</td>
</tr>
<tr class="odd">
<td><a href="https://docs.python.org/3/library/re.html#re.IGNORECASE"><code dir="ltr">IGNORECASE</code></a>,&nbsp;<a href="https://docs.python.org/3/library/re.html#re.I"><code dir="ltr">I</code></a></td>
<td>يجعل المطابقة غير حساسة لحالة الأحرف.</td>
</tr>
<tr class="even">
<td><a href="https://docs.python.org/3/library/re.html#re.LOCALE"><code dir="ltr">LOCALE</code></a>,&nbsp;<a href="https://docs.python.org/3/library/re.html#re.L"><code dir="ltr">L</code></a></td>
<td>يجعل المطابقة تأخذ في الاعتبار الإعدادات المحلية.</td>
</tr>
<tr class="odd">
<td><a href="https://docs.python.org/3/library/re.html#re.MULTILINE"><code dir="ltr">MULTILINE</code></a>,&nbsp;<a href="https://docs.python.org/3/library/re.html#re.M"><code dir="ltr">M</code></a></td>
<td>يتيح المطابقة متعددة الأسطر، مما يؤثر على الرموز&nbsp;<code dir="ltr">^</code>&nbsp;و&nbsp;<code dir="ltr">$</code>.</td>
</tr>
<tr class="even">
<td><a href="https://docs.python.org/3/library/re.html#re.VERBOSE"><code dir="ltr">VERBOSE</code></a>,&nbsp;<a href="https://docs.python.org/3/library/re.html#re.X"><code dir="ltr">X</code></a>&nbsp;(لـ “الموسعة”)</td>
<td>يتيح كتابة تعبيرات نمطية منظمة بشكل أوضح وأسهل للفهم.</td>
</tr>
</tbody>
</table>
<p>ونمثل باستعمال العلم <code dir="ltr">re.IGNORECASE</code> إذْ نحتاج إليه في مطابقة الكلمات اللاتينية، لاحظ الفرق في المطابقتين:</p>
<div id="d57f2a45" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb36" dir="ltr"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>text <span class="op">=</span> <span class="st">"She is she."</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> m <span class="kw">in</span> re.finditer(<span class="vs">r"</span><span class="pp">[a-z]</span><span class="op">+</span><span class="vs">"</span>, text):</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(m)</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>()</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> m <span class="kw">in</span> re.finditer(<span class="vs">r"</span><span class="pp">[a-z]</span><span class="op">+</span><span class="vs">"</span>, text, re.IGNORECASE):</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(m)</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre dir="ltr"><code>&lt;re.Match object; span=(1, 3), match='he'&gt;
&lt;re.Match object; span=(4, 6), match='is'&gt;
&lt;re.Match object; span=(7, 10), match='she'&gt;

&lt;re.Match object; span=(0, 3), match='She'&gt;
&lt;re.Match object; span=(4, 6), match='is'&gt;
&lt;re.Match object; span=(7, 10), match='she'&gt;</code></pre>
</div>
</div>
<p>ولاستعمال مجموعة أعلام فإننا ندمجه بعلامة <code dir="ltr">|</code> على النحو التالي:</p>
<div class="sourceCode" id="cb38" dir="ltr"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>re.search(pattern, text, re.IGNORECASES <span class="op">|</span> re.LOCALE)</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="استخراج-المجموعات-من-النص" class="level2">
<h2 class="anchored" data-anchor-id="استخراج-المجموعات-من-النص">استخراج المجموعات من النص</h2>
<p>وتستعمل <strong>المحددات الكمية</strong> (َQuantifiers) لوصف التاريخ بأنه: أربعة أرقام ثم شرطة ثم رقمان ثم شرطة ثم رقمان. وأما الأقواس فلتقسيمها عند القراءة.</p>
<div id="6ef9c21c" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb39" dir="ltr"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>text <span class="op">=</span> <span class="st">"This dates back to 1970-06-29"</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>pattern <span class="op">=</span> <span class="vs">r"</span><span class="kw">(</span><span class="dv">\d</span><span class="op">{4}</span><span class="kw">)</span><span class="vs">-</span><span class="kw">(</span><span class="dv">\d</span><span class="op">{2}</span><span class="kw">)</span><span class="vs">-</span><span class="kw">(</span><span class="dv">\d</span><span class="op">{2}</span><span class="kw">)</span><span class="vs">"</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>match <span class="op">=</span> re.search(pattern, text)</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> match:</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(match.group(<span class="dv">0</span>))</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(match.group(<span class="dv">1</span>))</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(match.group(<span class="dv">2</span>))</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(match.group(<span class="dv">3</span>))</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre dir="ltr"><code>1970-06-29
1970
06
29</code></pre>
</div>
</div>
<p>لاحظ أن المجموعة <code dir="ltr">0</code> تطابق الكُلّ. ولذلك فإننا عندما كنا نستعمل <code dir="ltr">.group()</code> من قبل، كان الأصل استخراج كل النص إذا طابق النمط. لكننا الآن نعلم أن <code dir="ltr">1</code> و <code dir="ltr">2</code> و <code dir="ltr">3</code> الآن تطابق أجزاءً في النمط نفسه بحسب الأقواس الموضوعة فيه.</p>
<p>وهذا مثال آخر فيه <strong>تضمين قوسين داخل قوسين</strong>، وبه تتضح دلالة الأرقام المعطاة للإجراء <code dir="ltr">.group(n)</code> بوضوح:</p>
<div id="a7a93b11" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb41" dir="ltr"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>text <span class="op">=</span> <span class="st">"20 Reps 4 Sets"</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> re.search(<span class="vs">r"</span><span class="kw">((</span><span class="dv">\d</span><span class="op">+</span><span class="kw">)</span><span class="vs"> Reps</span><span class="kw">)</span><span class="vs"> </span><span class="kw">((</span><span class="dv">\d</span><span class="op">+</span><span class="kw">)</span><span class="vs"> Sets</span><span class="kw">)</span><span class="vs">"</span>, text)</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> m:</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(m.group(<span class="dv">1</span>))</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(m.group(<span class="dv">2</span>))</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(m.group(<span class="dv">3</span>))</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(m.group(<span class="dv">4</span>))</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre dir="ltr"><code>20 Reps
20
4 Sets
4</code></pre>
</div>
</div>
<p>وعليه فقِس.</p>
</section>
<section id="تسمية-المجموعات" class="level2">
<h2 class="anchored" data-anchor-id="تسمية-المجموعات">تسمية المجموعات</h2>
<p>من خصائص محرك مطابقة الأنماط في لغة بايثون خصوصًا؛ إمكانية تسمية المجموعات في النمط، ليتم استخراجها بالاسم. وتكون التسمية بعد القوس الأول هكذا: <code dir="ltr">(?P&lt;name&gt;...)</code> حيث تمثل الـ <code dir="ltr">...</code> النمط النصي. وذلك على النحو التالي:</p>
<div id="947d026b" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb43" dir="ltr"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>text <span class="op">=</span> <span class="st">"Muhammad AlKhwarizmi, Polymath"</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> re.search(<span class="vs">r"</span><span class="kw">(</span><span class="fu">?P&lt;first_name&gt;</span><span class="dv">\w</span><span class="op">+</span><span class="kw">)</span><span class="vs"> </span><span class="kw">(</span><span class="fu">?P&lt;last_name&gt;</span><span class="dv">\w</span><span class="op">+</span><span class="kw">)</span><span class="vs">, </span><span class="dv">\w</span><span class="op">+</span><span class="vs">"</span>, text)</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> m:</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(m.groupdict())</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(m.group(<span class="st">'first_name'</span>))</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(m.group(<span class="st">'last_name'</span>))</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre dir="ltr"><code>{'first_name': 'Muhammad', 'last_name': 'AlKhwarizmi'}
Muhammad
AlKhwarizmi</code></pre>
</div>
</div>
<p>وكذلك يكون في المجموعات المضمنة:</p>
<div id="10370c2d" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb45" dir="ltr"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>text <span class="op">=</span> <span class="st">"20 Reps 4 Sets"</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> re.search(<span class="vs">r"</span><span class="kw">((</span><span class="fu">?P&lt;reps&gt;</span><span class="dv">\d</span><span class="op">+</span><span class="kw">)</span><span class="vs"> Reps</span><span class="kw">)</span><span class="vs"> </span><span class="kw">((</span><span class="fu">?P&lt;sets&gt;</span><span class="dv">\d</span><span class="op">+</span><span class="kw">)</span><span class="vs"> Sets</span><span class="kw">)</span><span class="vs">"</span>, text)</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> m:</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(m.groupdict())</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(m.group(<span class="st">'reps'</span>))</span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(m.group(<span class="st">'sets'</span>))</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre dir="ltr"><code>{'reps': '20', 'sets': '4'}
20
4</code></pre>
</div>
</div>
<p>وهذا يسهِّلُ استخراج الأنماط كثيرًا من النصوص.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
ملاحظة
</div>
</div>
<div class="callout-body-container callout-body">
<p>تسمية المجموعات هي خاصية لبايثون فقط، وليسَت من مواصفات التعبير النمطي بوجهٍ عام. وذلك يعني أنك قد لا تجدها في محركات أخرى كالمحررات التفاعلية الموجودة على الشبكة.</p>
</div>
</div>
</section>
<section id="تفسير-التعبير-النمطي-مرة-واحدة" class="level2">
<h2 class="anchored" data-anchor-id="تفسير-التعبير-النمطي-مرة-واحدة">تفسير التعبير النمطي مرة واحدة</h2>
<p>قد استعملنا إجراءات المكتبة مباشرة في نحو: <code dir="ltr">re.match()</code> و <code dir="ltr">re.search()</code> وغيرها. فهي تأخذ النمط وتفسره ثم تنفذه بحزمة مكتوبة بلغة سي (C). فإذا كان النمط يستعمل كثيرًا فإن عملية التفسير تتم عدة مرات، <strong>وذلك هدر!</strong> ولتفسير النمط مرة واحدة ثم تطبيقه عدة مرات (من غير تكرار التفسير) نستعمل إجراء <strong>التفسير</strong> <code dir="ltr">re.compile()</code> على النحو التالي:</p>
<div id="cb4050e9" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb47" dir="ltr"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>text1 <span class="op">=</span> <span class="st">"She is she."</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>text2 <span class="op">=</span> <span class="st">"They are they."</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>patternc <span class="op">=</span> re.<span class="bu">compile</span>(<span class="vs">r"</span><span class="pp">[a-z]</span><span class="op">+</span><span class="vs">"</span>, re.IGNORECASE)</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> m <span class="kw">in</span> patternc.finditer(text1):</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(m)</span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>()</span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> m <span class="kw">in</span> patternc.finditer(text2):</span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(m)</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre dir="ltr"><code>&lt;re.Match object; span=(0, 3), match='She'&gt;
&lt;re.Match object; span=(4, 6), match='is'&gt;
&lt;re.Match object; span=(7, 10), match='she'&gt;

&lt;re.Match object; span=(0, 4), match='They'&gt;
&lt;re.Match object; span=(5, 8), match='are'&gt;
&lt;re.Match object; span=(9, 13), match='they'&gt;</code></pre>
</div>
</div>
<p>وحتى يتبين الفرق، قارنها مع القطعة التي <strong>لم نستعمل فيها التفسير المسبق</strong>؛ فهو يتكررفي كل مرة:</p>
<div id="d6573e85" class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb49" dir="ltr"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>text1 <span class="op">=</span> <span class="st">"She is she."</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>text2 <span class="op">=</span> <span class="st">"They are they."</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> m <span class="kw">in</span> re.finditer(<span class="vs">r"</span><span class="pp">[a-z]</span><span class="op">+</span><span class="vs">"</span>, text1, re.IGNORECASE):</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(m)</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>()</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> m <span class="kw">in</span> re.finditer(<span class="vs">r"</span><span class="pp">[a-z]</span><span class="op">+</span><span class="vs">"</span>, text2, re.IGNORECASE):</span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(m)</span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre dir="ltr"><code>&lt;re.Match object; span=(0, 3), match='She'&gt;
&lt;re.Match object; span=(4, 6), match='is'&gt;
&lt;re.Match object; span=(7, 10), match='she'&gt;

&lt;re.Match object; span=(0, 4), match='They'&gt;
&lt;re.Match object; span=(5, 8), match='are'&gt;
&lt;re.Match object; span=(9, 13), match='they'&gt;</code></pre>
</div>
</div>
</section>
<section id="تحرير-التعبيرات-النمطية" class="level2">
<h2 class="anchored" data-anchor-id="تحرير-التعبيرات-النمطية">تحرير التعبيرات النمطية</h2>
<p>ننصح باستعمال أدوات <strong>تحرير التعبير النمطي</strong> مثل: <a href="https://regex101.com/">regex101</a> فهي أفضل بكثير من كتابته دون أداة.</p>
<ul>
<li>في القائمة الجانبية اختر نكهة (Flavour) <strong>Python</strong></li>
<li>في الحقل الأول تكتب التعبير النمطي</li>
<li>في الصندوق الكبير تضع النص الذي تريد مطابقته</li>
</ul>
<p>وكذلك يوجد محرر آخر مثل <a href="https://regexr.com/">regexr</a> وفي القائمة الجانبية تجد <strong>Community Patterns</strong> حيث تجد فهرس لأنماط نصية شاركها المبرمجون الآخرون. أو في: <a href="https://github.com/regexhq">regexHQ</a>.</p>
<p>وهكذا فإنك تعدل على النمط وتزيد في النصوص، حتى تصل إلى أفضل نمط لتنسخه وتضعه عندك في البرنامج.</p>
<p>وهذا المحرر يستعمل نفس محرك: <a href="https://pythex.org/">pythex</a>.</p>
</section>
<section id="مصادر-أخرى-لتعلم-التعبيرات-النمطية" class="level2">
<h2 class="anchored" data-anchor-id="مصادر-أخرى-لتعلم-التعبيرات-النمطية">مصادر أخرى لتعلم التعبيرات النمطية</h2>
<ul>
<li><a href="https://github.com/ziishaned/learn-regex">Learn Regex The Easy Way</a></li>
</ul>
<p>دروس تفاعلية لتعلم التعبيرات النمطية:</p>
<ul>
<li><a href="https://regexlearn.com/">RegexLearn</a></li>
<li><a href="https://regexone.com/">RegexOne</a></li>
</ul>
</section>
<section id="مسألة-ترتيب-سجل-التمارين-الملخبط" class="level2">
<h2 class="anchored" data-anchor-id="مسألة-ترتيب-سجل-التمارين-الملخبط">مسألة: ترتيب سجل التمارين الملخبط</h2>
<p><strong>المطلوب</strong>: استخرج من هذا النص التمارين، وعدد الجلسات. فإن كان التمرين فيه وزن فاستخرج الوزن واجعل وحدة القياس واحدة (إما بالكيل أو بالباوند).</p>
<p><strong>نص السجل</strong>:</p>
<div id="f22eae58" class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb51" dir="ltr"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>text <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="st">Pushups 30 reps 3 sets</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a><span class="st">5 reps 2 sets Pullups</span></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a><span class="st">2 Sets 15 Reps One-leg Squats</span></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a><span class="st">4 sets 8 reps 22.5 lbs Dumbbell Rows</span></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a><span class="st">4 sets 8 reps 15.25kg Dumbbell Rows</span></span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span></code><button title="نسخ إلى الحافظة" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "تم النسخ!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "تم النسخ!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/hassanalgoz\.github\.io\/python\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<script src="https://utteranc.es/client.js" repo="HassanAlgoz/python" issue-term="og:title" theme="github-light" crossorigin="anonymous" async="">
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../../chapters/00_rewrite/06_text_files.html" class="pagination-link" aria-label="الملفات النصية">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">الملفات النصية</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../../chapters/00_rewrite/08_objects.html" class="pagination-link" aria-label="الكائنات">
        <span class="nav-page-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">الكائنات</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/hassanalgoz/python/issues/new" class="toc-action"><i class="bi bi-github"></i>الإبلاغ عن مشكلة</a></li></ul></div></div></div></footer><script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</body></html>