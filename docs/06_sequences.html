<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ar" xml:lang="ar" dir="rtl"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>6&nbsp; المجموعة المرتبة – البايثونية</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./07_mapping.html" rel="next">
<link href="./05_function.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./01_intro.html">الرئيسي</a></li><li class="breadcrumb-item"><a href="./06_sequences.html"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">المجموعة المرتبة</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">البايثونية</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">فاتحة</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./setup.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">إعداد بيئة التطوير</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">الرئيسي</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">المدخل إلى بايثون</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02_number.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">الرقم</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_condition.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">الشرط</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04_iteration.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">التكرار</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05_function.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">الإجراء</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06_sequences.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">المجموعة المرتبة</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07_mapping.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">المجموعة المرقومة</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08_string.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">النص</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11_files.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">الملفات</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./12_serialization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">حفظ البيانات</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./13_errors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">الأخطاء</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./14_classes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">الأصناف</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./15_extend.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">التخصيص والتركيب</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./16_modules.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">الاستيراد والتصدير</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">فروع</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./zz_comprehension.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">التعبير المختصر</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./zz_time.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">الوقت</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./appendix_collections.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">خريطة المجموعات</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./glossary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">المصطلحات</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#التسلسل" id="toc-التسلسل" class="nav-link active" data-scroll-target="#التسلسل"><span class="header-section-number">6.1</span> التسلسل</a>
  <ul class="collapse">
  <li><a href="#الإنشاء" id="toc-الإنشاء" class="nav-link" data-scroll-target="#الإنشاء">الإنشاء</a></li>
  <li><a href="#الإشارة" id="toc-الإشارة" class="nav-link" data-scroll-target="#الإشارة">الإشارة</a></li>
  <li><a href="#البحث" id="toc-البحث" class="nav-link" data-scroll-target="#البحث">البحث</a></li>
  </ul></li>
  <li><a href="#تسلسل-النطاق" id="toc-تسلسل-النطاق" class="nav-link" data-scroll-target="#تسلسل-النطاق"><span class="header-section-number">6.2</span> تسلسل النطاق</a>
  <ul class="collapse">
  <li><a href="#تحويل-النطاق" id="toc-تحويل-النطاق" class="nav-link" data-scroll-target="#تحويل-النطاق">تحويل النطاق</a></li>
  </ul></li>
  <li><a href="#القائمة" id="toc-القائمة" class="nav-link" data-scroll-target="#القائمة"><span class="header-section-number">6.3</span> القائمة</a>
  <ul class="collapse">
  <li><a href="#التغير" id="toc-التغير" class="nav-link" data-scroll-target="#التغير">التغير</a></li>
  <li><a href="#تجميع-النتائج" id="toc-تجميع-النتائج" class="nav-link" data-scroll-target="#تجميع-النتائج">تجميع النتائج</a></li>
  </ul></li>
  <li><a href="#التسلسلات-المرتبطة" id="toc-التسلسلات-المرتبطة" class="nav-link" data-scroll-target="#التسلسلات-المرتبطة"><span class="header-section-number">6.4</span> التسلسلات المرتبطة</a></li>
  <li><a href="#القائمة-كمكدس" id="toc-القائمة-كمكدس" class="nav-link" data-scroll-target="#القائمة-كمكدس"><span class="header-section-number">6.5</span> القائمة كمكدس</a></li>
  <li><a href="#القائمة-كطابور" id="toc-القائمة-كطابور" class="nav-link" data-scroll-target="#القائمة-كطابور"><span class="header-section-number">6.6</span> القائمة كطابور</a></li>
  <li><a href="#خلاصة" id="toc-خلاصة" class="nav-link" data-scroll-target="#خلاصة"><span class="header-section-number">6.7</span> خلاصة</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./01_intro.html">الرئيسي</a></li><li class="breadcrumb-item"><a href="./06_sequences.html"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">المجموعة المرتبة</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">المجموعة المرتبة</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>كثيرًا ما نحتاج للتعامل مع الأشياء في مجموعة. وذلك مثلاً لترتيب المجموعة أو عكسها أو ربطها مع مجموعة أخرى، أو البحث فيها، أو تصفيتها، أو تحويلها جميعًا بنفس الطريقة، أو استخلاص قيمة منها، …إلخ من العمليات التي تعمل على جميع عناصر المجموعة.</p>
<p><strong>التسلسل</strong> (<a href="https://docs.python.org/3/library/stdtypes.html#common-sequence-operations"><code>Sequence</code></a>) هو أي مجموعة مرتبة من الأشياء. وسوف نرمز للمفرد بـ<code>x</code> ولما يدل على التسلسل بـ<code>s</code>.</p>
<p>يندرج تحت نوع التسلسل أربعة أنواع أساسية كلها تقبل الأفعال التالية:</p>
<ul>
<li>الإشارة:
<ul>
<li>لموضع: <code>s[i]</code></li>
<li>لقطعة: <code>s[i:j]</code></li>
<li>لقطعة مع خطوة: <code>s[i:j:k]</code></li>
</ul></li>
<li>معرفة موضع شيء (إن وجد): <code>s.index(x)</code></li>
<li>عد تكرارات شيء: <code>s.count(x)</code></li>
<li>البحث عن الأصغر والأكبر: <code>min(s)</code> و <code>max(s)</code></li>
</ul>
<p>وتقبل من أفعال الإنشاء:</p>
<ul>
<li>الدمج: <code>s1 + s2</code></li>
<li>التكرار: <code>s * n</code></li>
</ul>
<p>ومن حيث كونها <strong>مجموعة</strong> (<code>Collection</code>)، تقبل الأفعال ثلاثة:</p>
<ul>
<li>العضوية: <code>x not in s</code></li>
<li>العد: <code>len(s)</code></li>
<li>التكرار: <code>for x in s</code></li>
</ul>
<p>والأنواع الأربعة التي من جنس التسلسل هي:</p>
<ol type="1">
<li><strong>القائمة</strong> (<a href="https://docs.python.org/3/library/stdtypes.html#list"><code>list</code></a>) وهي الأكثر شيوعًا.</li>
<li><strong>الصف</strong> (<a href="https://docs.python.org/3/library/stdtypes.html#tuple"><code>tuple</code></a>) وهو النوع الجامد الذي لا يقبل التغير.</li>
<li><strong>المجال</strong> (<a href="https://docs.python.org/3/library/stdtypes.html#range"><code>range</code></a>) وهو سلسلة محددة البداية والنهاية والخطوة، لكنّ عناصرها لا يتحقق وجودها إلا عند استدعائها. وقد سبق الحديث عنه في <a href="./04_iteration.html">باب التكرار</a>.</li>
<li><strong>النص</strong> (<a href="https://docs.python.org/3/library/stdtypes.html#str"><code>str</code></a>) وهو صفٌّ من الأحرف.</li>
</ol>
<section id="التسلسل" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="التسلسل"><span class="header-section-number">6.1</span> التسلسل</h2>
<section id="الإنشاء" class="level3">
<h3 class="anchored" data-anchor-id="الإنشاء">الإنشاء</h3>
<ul>
<li>ينشأ الصف بوضع العناصر بين القوسين المنحنيين <code>()</code> أو باستعمال الإجراء المنشئ <a href="https://docs.python.org/3/library/stdtypes.html#tuple"><code>tuple()</code></a></li>
<li>تنشأ القائمة بوضع العناصر بين القوسين المربعين <code>[]</code> أو باستعمال الإجراء المنشئ <a href="https://docs.python.org/3/library/stdtypes.html#list"><code>list()</code></a></li>
</ul>
<div id="71db90b8" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1"></a>s <span class="op">=</span> (<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>) <span class="op">+</span> (<span class="dv">40</span>, <span class="dv">50</span>)</span>
<span id="cb1-2"><a href="#cb1-2"></a>s <span class="op">=</span> s <span class="op">*</span> <span class="dv">2</span></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="bu">print</span>(s)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(10, 20, 30, 40, 50, 10, 20, 30, 40, 50)</code></pre>
</div>
</div>
<p>ويقبل إنشاء مجموعة من العناصر مختلفة النوع، بما في ذلك القائمة والصف كعنصر:</p>
<div id="69215929" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1"></a>s <span class="op">=</span> (<span class="dv">10</span>, <span class="st">'A'</span>, <span class="fl">2.0</span>, <span class="va">True</span>, [<span class="st">'B'</span>, <span class="dv">30</span>])</span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="bu">print</span>(s)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(10, 'A', 2.0, True, ['B', 30])</code></pre>
</div>
</div>
<p>والتعبير المختصر لإنشاء القائمة يستعمل الجملة التكرارية <code>for</code> مع الشرط الاختياري <code>if</code>، كما في المثال التالي (يأتي تفصيله في <a href="./zz_comprehension.html">باب التعبير المختصر لإنشاء المجموعات</a>):</p>
<div id="61821f61" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1"></a>s <span class="op">=</span> [x <span class="op">*</span> <span class="dv">10</span> <span class="cf">for</span> x <span class="kw">in</span> (<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>, <span class="dv">60</span>) <span class="cf">if</span> x <span class="op">&lt;=</span> <span class="dv">30</span>]</span>
<span id="cb5-2"><a href="#cb5-2"></a></span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="cf">assert</span> <span class="dv">100</span> <span class="kw">in</span> s</span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="cf">assert</span> <span class="dv">400</span> <span class="kw">not</span> <span class="kw">in</span> s</span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="cf">assert</span> <span class="bu">len</span>(s) <span class="op">==</span> <span class="dv">3</span></span>
<span id="cb5-6"><a href="#cb5-6"></a></span>
<span id="cb5-7"><a href="#cb5-7"></a><span class="cf">for</span> x <span class="kw">in</span> s:</span>
<span id="cb5-8"><a href="#cb5-8"></a>    <span class="bu">print</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>100
200
300</code></pre>
</div>
</div>
</section>
<section id="الإشارة" class="level3">
<h3 class="anchored" data-anchor-id="الإشارة">الإشارة</h3>
<p>تستعمل الإشارة الموضعية لقراءة عنصر من التسلسل. ويجب أن يكون المؤشر رقمًا صحيحًا لا يتجاوز نطاق التسلسل على النحو التالي:</p>
<div id="984aac1a" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1"></a>s <span class="op">=</span> [<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>]</span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="cf">assert</span> s[<span class="dv">0</span>] <span class="op">==</span> <span class="dv">10</span></span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="cf">assert</span> s[<span class="op">-</span><span class="dv">1</span>] <span class="op">==</span> <span class="dv">50</span></span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="cf">assert</span> s[<span class="bu">len</span>(s) <span class="op">//</span> <span class="dv">2</span>] <span class="op">==</span> <span class="dv">30</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code> 0    1    2    3    4    5     
 +----+----+----+----+----+
 | 10 | 20 | 30 | 40 | 50 |
 +----+----+----+----+----+
-5   -4   -3   -2   -1</code></pre>
<p>شكل الإشارة بالقطعة على نحو: <code>s[start : end : step]</code>. والقيم الافتراضية عند الإغفال هي: <code>s[0:len(s):1]</code>.</p>
<div id="c3d3cc4c" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1"></a>s <span class="op">=</span> [<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>]</span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="cf">assert</span> s[<span class="dv">1</span>:<span class="dv">3</span>] <span class="op">==</span> [<span class="dv">20</span>, <span class="dv">30</span>]</span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="cf">assert</span> s[::<span class="dv">2</span>] <span class="op">==</span> [<span class="dv">10</span>, <span class="dv">30</span>, <span class="dv">50</span>]</span>
<span id="cb9-4"><a href="#cb9-4"></a><span class="cf">assert</span> s[::<span class="op">-</span><span class="dv">1</span>] <span class="op">==</span> [<span class="dv">50</span>, <span class="dv">40</span>, <span class="dv">30</span>, <span class="dv">20</span>, <span class="dv">10</span>]</span>
<span id="cb9-5"><a href="#cb9-5"></a><span class="cf">assert</span> s[<span class="dv">1</span>:<span class="dv">4</span>:<span class="dv">2</span>] <span class="op">==</span> [<span class="dv">20</span>, <span class="dv">40</span>] <span class="op">==</span> s[<span class="op">-</span><span class="dv">4</span>:<span class="op">-</span><span class="dv">1</span>:<span class="dv">2</span>]</span>
<span id="cb9-6"><a href="#cb9-6"></a><span class="cf">assert</span> s[<span class="dv">1</span>:<span class="dv">4</span>:<span class="dv">2</span>] <span class="op">==</span> s[<span class="bu">slice</span>(<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">2</span>)] <span class="op">==</span> [<span class="dv">20</span>, <span class="dv">40</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>وجاز للعنصر أن يكون مجموعة؛ ومثاله المصفوفة:</p>
<div id="fbef744c" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1"></a>matrix <span class="op">=</span> (</span>
<span id="cb10-2"><a href="#cb10-2"></a>    (<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>),</span>
<span id="cb10-3"><a href="#cb10-3"></a>    (<span class="dv">40</span>, <span class="dv">50</span>, <span class="dv">60</span>),</span>
<span id="cb10-4"><a href="#cb10-4"></a>    (<span class="dv">70</span>, <span class="dv">80</span>, <span class="dv">90</span>)</span>
<span id="cb10-5"><a href="#cb10-5"></a>)</span>
<span id="cb10-6"><a href="#cb10-6"></a></span>
<span id="cb10-7"><a href="#cb10-7"></a><span class="cf">assert</span> matrix[<span class="dv">0</span>] <span class="op">==</span> (<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>)</span>
<span id="cb10-8"><a href="#cb10-8"></a><span class="cf">assert</span> matrix[<span class="op">-</span><span class="dv">1</span>] <span class="op">==</span> (<span class="dv">70</span>, <span class="dv">80</span>, <span class="dv">90</span>)</span>
<span id="cb10-9"><a href="#cb10-9"></a><span class="cf">assert</span> matrix[<span class="dv">1</span>][<span class="dv">1</span>] <span class="op">==</span> <span class="dv">50</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code> 0              1              2               
 +--------------+--------------+--------------+
 | (10, 20, 30) | (40, 50, 60) | (70, 80, 90) |
 +--------------+--------------+--------------+
-3             -2             -1</code></pre>
<p>الإشارة لعناصر الصف الواحد:</p>
<pre><code> 0    1    2            
 +----+----+----+
 | 10 | 20 | 30 |
 +----+----+----+
-3   -2   -1</code></pre>
<pre><code> 0    1    2            
 +----+----+----+
 | 40 | 50 | 60 |
 +----+----+----+
-3   -2   -1</code></pre>
<pre><code> 0    1    2            
 +----+----+----+
 | 70 | 80 | 90 |
 +----+----+----+
-3   -2   -1</code></pre>
<p>عناصر نصوص:</p>
<div id="bbd83d41" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1"></a>ss <span class="op">=</span> [<span class="st">"Apple"</span>, <span class="st">"Banana"</span>, <span class="st">"Orange"</span>, <span class="st">"Lemon"</span>]</span>
<span id="cb15-2"><a href="#cb15-2"></a><span class="cf">assert</span> ss[<span class="dv">1</span>] <span class="op">==</span> <span class="st">"Banana"</span></span>
<span id="cb15-3"><a href="#cb15-3"></a><span class="cf">assert</span> ss[<span class="op">-</span><span class="dv">1</span>][<span class="dv">0</span>] <span class="op">==</span> <span class="st">"L"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code> 0       1        2        3       4
 +-------+--------+--------+-------+
 | Apple | Banana | Orange | Lemon |
 +-------+--------+--------+-------+
-4      -3       -2       -1</code></pre>
<p>الإشارة لصف الأحرف في النص الواحد:</p>
<pre><code> 0   1   2   3   4
 +---+---+---+---+---+
 | L | e | m | o | n |
 +---+---+---+---+---+
-5  -4  -3  -2  -1</code></pre>
<p>وسيأتي التفصيل في <a href="./08_string.html">باب النص</a>.</p>
</section>
<section id="البحث" class="level3">
<h3 class="anchored" data-anchor-id="البحث">البحث</h3>
<div id="4c1bf8e5" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1"></a>s <span class="op">=</span> (<span class="st">'A'</span>, <span class="st">'B'</span>, <span class="st">'A'</span>)</span>
<span id="cb18-2"><a href="#cb18-2"></a><span class="cf">assert</span> s.index(<span class="st">'B'</span>) <span class="op">==</span> <span class="dv">1</span></span>
<span id="cb18-3"><a href="#cb18-3"></a><span class="cf">assert</span> s.count(<span class="st">'A'</span>) <span class="op">==</span> <span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="fe4d93df" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1"></a>s <span class="op">=</span> (<span class="dv">30</span>, <span class="dv">20</span>, <span class="dv">40</span>, <span class="dv">10</span>, <span class="dv">50</span>)</span>
<span id="cb19-2"><a href="#cb19-2"></a><span class="cf">assert</span> <span class="bu">min</span>(s) <span class="op">==</span> <span class="dv">10</span></span>
<span id="cb19-3"><a href="#cb19-3"></a><span class="cf">assert</span> <span class="bu">max</span>(s) <span class="op">==</span> <span class="dv">50</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="تسلسل-النطاق" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="تسلسل-النطاق"><span class="header-section-number">6.2</span> تسلسل النطاق</h2>
<p><strong>النطاق</strong> (<a href="https://docs.python.org/3/library/stdtypes.html#range"><code>range</code></a>) يمثل تسلسلًا ثابتًا من الأرقام؛ له ثلاثة حدود: بداية ونهاية وخطوة <code>range(start, stop, step)</code>. ولا يولد عناصره التي في النطاق فعليًّا؛ بل يحسبها عند الحاجة إليها. فهو بذلك لا يشغل حيِّزًا في الذاكرة إلا لحدوده الثلاثة والرقم المطلوب حالًا. وقد تقدم الكلام عنه في <a href="./04_iteration.html">باب التكرار</a> لكننا ننظر له هنا على أنه نوع من التسلسل.</p>
<p>وهو كالصف لا يقبل التعديل.</p>
<p>نستعمل إجراء الإنشاء <code>range()</code> لإنشاء نطاق:</p>
<div id="f3d3afa0" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1"></a>r <span class="op">=</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">20</span>, <span class="dv">2</span>)</span>
<span id="cb20-2"><a href="#cb20-2"></a>r</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="68">
<pre><code>range(0, 20, 2)</code></pre>
</div>
</div>
<p>فحين نسألن عن عضوية عنصر ما في النطاق؛ يتم حساب النطاق بحسبه:</p>
<div id="d6d0247d" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1"></a><span class="bu">print</span>(<span class="dv">11</span> <span class="kw">in</span> r)</span>
<span id="cb22-2"><a href="#cb22-2"></a><span class="bu">print</span>(<span class="dv">10</span> <span class="kw">in</span> r)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>False
True</code></pre>
</div>
</div>
<p>كذلك الأمر عند البحث عن موضع رقمٍ ما:</p>
<div id="a470430d" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1"></a><span class="bu">print</span>(r.index(<span class="dv">10</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>5</code></pre>
</div>
</div>
<p>والإشارة لموضع ما أو قطعة كذلك:</p>
<div id="1ff6dd82" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1"></a><span class="bu">print</span>(r[<span class="dv">5</span>])</span>
<span id="cb26-2"><a href="#cb26-2"></a><span class="bu">print</span>(r[:<span class="dv">5</span>])</span>
<span id="cb26-3"><a href="#cb26-3"></a><span class="bu">print</span>(r[<span class="op">-</span><span class="dv">1</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>10
range(0, 10, 2)
18</code></pre>
</div>
</div>
<section id="تحويل-النطاق" class="level3">
<h3 class="anchored" data-anchor-id="تحويل-النطاق">تحويل النطاق</h3>
<p>بمجرد تحويل النطاق إلى نوعٍ متحقق (كالقائمة أو الصف) ؛ يتم توليد جميع الأرقام التي في النطاق حالًا.</p>
<div id="288f80ae" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1"></a>l <span class="op">=</span> <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">1000</span>, <span class="dv">0</span>, <span class="op">-</span><span class="dv">100</span>))</span>
<span id="cb28-2"><a href="#cb28-2"></a>t <span class="op">=</span> <span class="bu">tuple</span>(<span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">1000</span>, <span class="dv">200</span>))</span>
<span id="cb28-3"><a href="#cb28-3"></a><span class="bu">print</span>(l)</span>
<span id="cb28-4"><a href="#cb28-4"></a><span class="bu">print</span>(t)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1000, 900, 800, 700, 600, 500, 400, 300, 200, 100]
(0, 200, 400, 600, 800)</code></pre>
</div>
</div>
<p>مثال آخر هو إنشاء قائمتين؛ واحدة للأرقام الزوجية والأخرى للأرقام الفردية، مرة أخرى، باستخدام تركيب <code>list(range())</code>.</p>
<div id="bba4fb06" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1"></a>evens <span class="op">=</span> <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">10</span>, <span class="dv">2</span>))</span>
<span id="cb30-2"><a href="#cb30-2"></a>odds <span class="op">=</span> <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">10</span>, <span class="dv">2</span>))</span>
<span id="cb30-3"><a href="#cb30-3"></a><span class="bu">print</span>(evens)</span>
<span id="cb30-4"><a href="#cb30-4"></a><span class="bu">print</span>(odds)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[0, 2, 4, 6, 8]
[1, 3, 5, 7, 9]</code></pre>
</div>
</div>
</section>
</section>
<section id="القائمة" class="level2" data-number="6.3">
<h2 data-number="6.3" class="anchored" data-anchor-id="القائمة"><span class="header-section-number">6.3</span> القائمة</h2>
<p><strong>القائمة</strong> (<a href="https://docs.python.org/3/library/stdtypes.html#list"><code>list</code></a>) تسلسل متغير.</p>
<section id="التغير" class="level3">
<h3 class="anchored" data-anchor-id="التغير">التغير</h3>
<p><a href="https://docs.python.org/3/library/stdtypes.html#mutable-sequence-types"><strong>التغير</strong></a> هي الخاصية التي تختلف فيها القائمة عن قسيماتها التسلسلية. ومعناه قبولها الأفعال التالية (نستعمل في المثال حرف <code>l</code> للقائمة):</p>
<ul>
<li>الاستبدال:
<ul>
<li>لموضع: <code>l[i] = x</code></li>
<li>لقطعة: <code>l[i:j] = t</code></li>
<li>لقطعة بخطوة: <code>l[i:j:k] = t</code></li>
</ul></li>
<li>الحذف:
<ul>
<li>لموضع: <code>del l[i]</code></li>
<li>لقطعة: <code>del l[i:j]</code></li>
<li>لقطعة بخطوة: <code>del l[i:j:k]</code></li>
</ul></li>
<li>الإزالة: <code>l.remove(x)</code> لحذف أول ورود للعنصر</li>
<li>النزع: <code>l.pop([i])</code> حذف العنصر من الموضع وإرجاعه
<ul>
<li>إن لم يحدد الموضع: نزع الأخير. إذ القوسان <code>[i]</code> (الموضع) <code>i</code> هنا في التعريف يعبران عن عامل اختياري</li>
</ul></li>
<li>الإدراج: <code>l.insert(i, x)</code> لإضافة عنصر في موضع محدد</li>
<li>الإلحاق: <code>l.append(x)</code> لإضافة عنصر في النهاية</li>
<li>الترتيب: <code>l.sort()</code> أو بالإجراء المدمج <code>sorted(l)</code></li>
<li>العكس: <code>l.reverse()</code> أو بالإجراء المدمج <code>reversed(l)</code></li>
</ul>
<p>لاحظ رسالة الخطأ عند محاولة التعديل على الصف، الذي نعرفه بالقوسين المنحنيين <code>()</code>:</p>
<div id="4e8d7f77" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1"></a>t <span class="op">=</span> (<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>)</span>
<span id="cb32-2"><a href="#cb32-2"></a>t[<span class="dv">0</span>] <span class="op">=</span> <span class="dv">100</span></span>
<span id="cb32-3"><a href="#cb32-3"></a><span class="bu">print</span>(t)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<div class="ansi-escaped-output">
<pre><span class="ansi-red-fg ansi-bold">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg ansi-bold">TypeError</span>                                 Traceback (most recent call last)
Cell <span class="ansi-green-fg ansi-bold">In[74], line 2</span>
<span class="ansi-green-fg">      1</span> t <span style="color:rgb(98,98,98)">=</span> (<span style="color:rgb(98,98,98)">10</span>, <span style="color:rgb(98,98,98)">20</span>, <span style="color:rgb(98,98,98)">30</span>, <span style="color:rgb(98,98,98)">40</span>, <span style="color:rgb(98,98,98)">50</span>)
<span class="ansi-green-fg ansi-bold">----&gt; 2</span> <span class="ansi-yellow-bg">t</span><span class="ansi-yellow-bg">[</span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">0</span><span class="ansi-yellow-bg">]</span> <span style="color:rgb(98,98,98)">=</span> <span style="color:rgb(98,98,98)">100</span>
<span class="ansi-green-fg">      3</span> <span style="color:rgb(0,135,0)">print</span>(t)

<span class="ansi-red-fg ansi-bold">TypeError</span>: 'tuple' object does not support item assignment</pre>
</div>
</div>
</div>
<p>لكن هذا مقبول في القائمة، التي نعرفها بالقوسين المربعين <code>[]</code>:</p>
<div id="6f020b84" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1"></a>l <span class="op">=</span> [<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>]</span>
<span id="cb33-2"><a href="#cb33-2"></a>l[<span class="dv">0</span>] <span class="op">=</span> <span class="dv">100</span></span>
<span id="cb33-3"><a href="#cb33-3"></a><span class="bu">print</span>(l)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[100, 20, 30, 40, 50]</code></pre>
</div>
</div>
<p>الاستبدال بالموضع والحذف منه:</p>
<div id="1aa875b6" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1"></a>l <span class="op">=</span> [<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>]</span>
<span id="cb35-2"><a href="#cb35-2"></a>l[<span class="dv">0</span>] <span class="op">=</span> <span class="dv">100</span></span>
<span id="cb35-3"><a href="#cb35-3"></a><span class="cf">assert</span> l <span class="op">==</span> [<span class="dv">100</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>]</span>
<span id="cb35-4"><a href="#cb35-4"></a></span>
<span id="cb35-5"><a href="#cb35-5"></a><span class="kw">del</span> l[<span class="dv">0</span>]</span>
<span id="cb35-6"><a href="#cb35-6"></a><span class="cf">assert</span> <span class="dv">100</span> <span class="kw">not</span> <span class="kw">in</span> l</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>الاستبدال بالقطعة والحذف منها</p>
<div id="458e2ad5" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1"></a>l <span class="op">=</span> [<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>]</span>
<span id="cb36-2"><a href="#cb36-2"></a>l[<span class="dv">1</span>:<span class="dv">3</span>] <span class="op">=</span> [<span class="dv">200</span>, <span class="dv">300</span>]</span>
<span id="cb36-3"><a href="#cb36-3"></a><span class="cf">assert</span> l <span class="op">==</span> [<span class="dv">10</span>, <span class="dv">200</span>, <span class="dv">300</span>, <span class="dv">40</span>, <span class="dv">50</span>]</span>
<span id="cb36-4"><a href="#cb36-4"></a></span>
<span id="cb36-5"><a href="#cb36-5"></a><span class="kw">del</span> l[<span class="dv">1</span>:<span class="dv">3</span>]</span>
<span id="cb36-6"><a href="#cb36-6"></a><span class="cf">assert</span> l <span class="op">==</span> [<span class="dv">10</span>, <span class="dv">40</span>, <span class="dv">50</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>الإدراج:</p>
<div id="079bcf5e" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1"></a>l <span class="op">=</span> [<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>]</span>
<span id="cb37-2"><a href="#cb37-2"></a>l.insert(<span class="dv">1</span>, <span class="dv">100</span>)</span>
<span id="cb37-3"><a href="#cb37-3"></a><span class="cf">assert</span> l <span class="op">==</span> [<span class="dv">10</span>, <span class="dv">100</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>الإزالة:</p>
<div id="ca4436fe" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1"></a>l <span class="op">=</span> [<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>]</span>
<span id="cb38-2"><a href="#cb38-2"></a>l.remove(<span class="dv">20</span>)</span>
<span id="cb38-3"><a href="#cb38-3"></a><span class="cf">assert</span> l <span class="op">==</span> [<span class="dv">10</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>الإلحاق:</p>
<div id="c5477a81" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1"></a>l <span class="op">=</span> [<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>]</span>
<span id="cb39-2"><a href="#cb39-2"></a>l.append(<span class="dv">60</span>)</span>
<span id="cb39-3"><a href="#cb39-3"></a><span class="cf">assert</span> l <span class="op">==</span> [<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>, <span class="dv">60</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>الترتيب والعكس:</p>
<div id="f298ef17" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1"></a>l <span class="op">=</span> [<span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">50</span>]</span>
<span id="cb40-2"><a href="#cb40-2"></a>l.sort()</span>
<span id="cb40-3"><a href="#cb40-3"></a><span class="cf">assert</span> l <span class="op">==</span> [<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>]</span>
<span id="cb40-4"><a href="#cb40-4"></a></span>
<span id="cb40-5"><a href="#cb40-5"></a>l.reverse()</span>
<span id="cb40-6"><a href="#cb40-6"></a><span class="cf">assert</span> l <span class="op">==</span> [<span class="dv">50</span>, <span class="dv">40</span>, <span class="dv">30</span>, <span class="dv">20</span>, <span class="dv">10</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>نزع العنصر الأخير وإرجاعه:</p>
<div id="2c6140ec" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1"></a>l <span class="op">=</span> [<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>]</span>
<span id="cb41-2"><a href="#cb41-2"></a>x <span class="op">=</span> l.pop()</span>
<span id="cb41-3"><a href="#cb41-3"></a><span class="cf">assert</span> x <span class="op">==</span> <span class="dv">50</span></span>
<span id="cb41-4"><a href="#cb41-4"></a><span class="cf">assert</span> <span class="dv">50</span> <span class="kw">not</span> <span class="kw">in</span> l</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="تجميع-النتائج" class="level3">
<h3 class="anchored" data-anchor-id="تجميع-النتائج">تجميع النتائج</h3>
<p>ولأن التسلسل نوع من المتوالية، فيجوز التكرار عليه بالجملة: <code>for item in sequence</code>.</p>
<p>يكثر استعمال القائمة أنها حاوية لنتائج عملية تكرارية. فهذا البرنامج ينتج من القائمة اثنين: إحداها زوجية والأخرى فردية:</p>
<div id="472db498" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1"></a>numbers <span class="op">=</span> [<span class="dv">11</span>, <span class="dv">12</span>, <span class="dv">13</span>, <span class="dv">14</span>, <span class="dv">15</span>, <span class="dv">16</span>, <span class="dv">17</span>, <span class="dv">18</span>, <span class="dv">19</span>, <span class="dv">20</span>]</span>
<span id="cb42-2"><a href="#cb42-2"></a>evens <span class="op">=</span> []</span>
<span id="cb42-3"><a href="#cb42-3"></a>odds <span class="op">=</span> []</span>
<span id="cb42-4"><a href="#cb42-4"></a></span>
<span id="cb42-5"><a href="#cb42-5"></a><span class="cf">for</span> x <span class="kw">in</span> numbers:</span>
<span id="cb42-6"><a href="#cb42-6"></a>    <span class="cf">if</span> x <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb42-7"><a href="#cb42-7"></a>        evens.append(x)</span>
<span id="cb42-8"><a href="#cb42-8"></a>    <span class="cf">else</span>:</span>
<span id="cb42-9"><a href="#cb42-9"></a>        odds.append(x)</span>
<span id="cb42-10"><a href="#cb42-10"></a></span>
<span id="cb42-11"><a href="#cb42-11"></a><span class="bu">print</span>(<span class="st">'list of evens:'</span>, evens)</span>
<span id="cb42-12"><a href="#cb42-12"></a><span class="bu">print</span>(<span class="st">'list of odds:'</span>, odds)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>list of evens: [12, 14, 16, 18, 20]
list of odds: [11, 13, 15, 17, 19]</code></pre>
</div>
</div>
</section>
</section>
<section id="التسلسلات-المرتبطة" class="level2" data-number="6.4">
<h2 data-number="6.4" class="anchored" data-anchor-id="التسلسلات-المرتبطة"><span class="header-section-number">6.4</span> التسلسلات المرتبطة</h2>
<p>هذان تسلسلان مرتبطان:</p>
<div id="9c61e8ca" class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1"></a>students <span class="op">=</span> [<span class="st">'Ahmad'</span>, <span class="st">'Belal'</span>, <span class="st">'Camal'</span>, <span class="st">'Dawud'</span>, <span class="st">'Emad'</span>]</span>
<span id="cb44-2"><a href="#cb44-2"></a>marks <span class="op">=</span> [<span class="dv">90</span>, <span class="dv">80</span>, <span class="dv">75</span>, <span class="dv">85</span>, <span class="dv">95</span>]</span>
<span id="cb44-3"><a href="#cb44-3"></a></span>
<span id="cb44-4"><a href="#cb44-4"></a><span class="cf">assert</span> <span class="bu">len</span>(students) <span class="op">==</span> <span class="bu">len</span>(marks)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>لو أردنا أن نمر على التسلسلين في نفس الوقت نستعمل الإجراء المدمج <code>zip()</code> الذي يظل يولد صفًا عناصره من كل تسلسل:</p>
<div id="add745dc" class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1"></a><span class="cf">for</span> x, y <span class="kw">in</span> <span class="bu">zip</span>(students, marks):</span>
<span id="cb45-2"><a href="#cb45-2"></a>    <span class="bu">print</span>(x, y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Ahmad 90
Belal 80
Camal 75
Dawud 85
Emad 95</code></pre>
</div>
</div>
</section>
<section id="القائمة-كمكدس" class="level2" data-number="6.5">
<h2 data-number="6.5" class="anchored" data-anchor-id="القائمة-كمكدس"><span class="header-section-number">6.5</span> القائمة كمكدس</h2>
<p><strong>المكدس</strong> هو عبارة عن مجموعة مرتبة تتراكم عناصرها فوق بعض، بحيث ما يدخل أخيرا هو ما يخرج أولاً.</p>
<p>يتحصل المكدس بفعلين من القائمة:</p>
<ul>
<li>الإلحاق (إضافة العنصر في النهاية): <code>l.append(x)</code></li>
<li>النزع (إزالة الأخير وإرجاعه): <code>l.pop()</code></li>
</ul>
<p>ومن تطبيقات المكدس السهلة، استعماله في التحقق من توازن الأقواس:</p>
<div id="b216df86" class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1"></a><span class="kw">def</span> is_balanced(s):</span>
<span id="cb47-2"><a href="#cb47-2"></a>    l <span class="op">=</span> []</span>
<span id="cb47-3"><a href="#cb47-3"></a>    <span class="cf">for</span> c <span class="kw">in</span> s:</span>
<span id="cb47-4"><a href="#cb47-4"></a>        <span class="cf">if</span> c <span class="op">==</span> <span class="st">'('</span>:</span>
<span id="cb47-5"><a href="#cb47-5"></a>            l.append(c)</span>
<span id="cb47-6"><a href="#cb47-6"></a>        <span class="cf">elif</span> c <span class="op">==</span> <span class="st">')'</span>:</span>
<span id="cb47-7"><a href="#cb47-7"></a>            <span class="cf">if</span> <span class="bu">len</span>(l) <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb47-8"><a href="#cb47-8"></a>                <span class="cf">return</span> <span class="va">False</span></span>
<span id="cb47-9"><a href="#cb47-9"></a>            l.pop()    </span>
<span id="cb47-10"><a href="#cb47-10"></a>    <span class="cf">return</span> <span class="bu">len</span>(l) <span class="op">==</span> <span class="dv">0</span></span>
<span id="cb47-11"><a href="#cb47-11"></a></span>
<span id="cb47-12"><a href="#cb47-12"></a><span class="cf">assert</span> is_balanced(<span class="st">'()'</span>)</span>
<span id="cb47-13"><a href="#cb47-13"></a><span class="cf">assert</span> is_balanced(<span class="st">'(())'</span>)</span>
<span id="cb47-14"><a href="#cb47-14"></a><span class="cf">assert</span> <span class="kw">not</span> is_balanced(<span class="st">'(()'</span>)</span>
<span id="cb47-15"><a href="#cb47-15"></a><span class="cf">assert</span> <span class="kw">not</span> is_balanced(<span class="st">'((()'</span>)</span>
<span id="cb47-16"><a href="#cb47-16"></a><span class="cf">assert</span> <span class="kw">not</span> is_balanced(<span class="st">'())))'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="القائمة-كطابور" class="level2" data-number="6.6">
<h2 data-number="6.6" class="anchored" data-anchor-id="القائمة-كطابور"><span class="header-section-number">6.6</span> القائمة كطابور</h2>
<p>يمكن استعمال القائمة كطابور إلا أن الذي تنصح به صفحات توثيق بايثون هو استعمال النوع <a href="https://docs.python.org/3/library/collections.html#collections.deque"><code>deque</code></a> من المكتبة <code>collections</code> الأساسية؛ والتي تسمح بإضافة العناصر ونزعها من كلا الطرفين بكفاءة عالية:</p>
<div id="e052c869" class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1"></a><span class="im">from</span> collections <span class="im">import</span> deque</span>
<span id="cb48-2"><a href="#cb48-2"></a></span>
<span id="cb48-3"><a href="#cb48-3"></a>q <span class="op">=</span> deque([<span class="dv">50</span>])</span>
<span id="cb48-4"><a href="#cb48-4"></a>q.append(<span class="dv">20</span>)</span>
<span id="cb48-5"><a href="#cb48-5"></a>q.appendleft(<span class="dv">10</span>)</span>
<span id="cb48-6"><a href="#cb48-6"></a><span class="cf">assert</span> q <span class="op">==</span> deque([<span class="dv">10</span>, <span class="dv">50</span>, <span class="dv">20</span>])</span>
<span id="cb48-7"><a href="#cb48-7"></a><span class="cf">assert</span> q.pop() <span class="op">==</span> <span class="dv">20</span></span>
<span id="cb48-8"><a href="#cb48-8"></a><span class="cf">assert</span> q.popleft() <span class="op">==</span> <span class="dv">10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="خلاصة" class="level2" data-number="6.7">
<h2 data-number="6.7" class="anchored" data-anchor-id="خلاصة"><span class="header-section-number">6.7</span> خلاصة</h2>
<p>تعرفنا على التسلسل باستعراض نوعين منه: القائمة والصف؛ وذلك لتمييز خاصية التغير وأثرها على الأفعال التي يقبلها نوع القائمة ولا يقبلها الصف. كما رأينا أن التسلسل في أصله مجموعة؛ تقبل العضوية والعد والتكرار كغيرها من المجموعات.</p>
<p>سنتعرف فيما يلي على نوعين آخرين من المجموعات: <a href="./07_mapping.html">المجموعة الرياضية والقاموس</a>.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./05_function.html" class="pagination-link" aria-label="الإجراء">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">الإجراء</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./07_mapping.html" class="pagination-link" aria-label="المجموعة المرقومة">
        <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">المجموعة المرقومة</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>